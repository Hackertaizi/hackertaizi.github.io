<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"hackertaizi.gitee.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.18.1","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="太子的个人博客">
<meta property="og:url" content="https://hackertaizi.gitee.io/index.html">
<meta property="og:site_name" content="太子的个人博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Taizi">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://hackertaizi.gitee.io/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>太子的个人博客</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">太子的个人博客</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Have a nice day !</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Taizi</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">51</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">30</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hackertaizi.gitee.io/%E5%85%B6%E4%BB%96/JSONPath/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Taizi">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="太子的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 太子的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/%E5%85%B6%E4%BB%96/JSONPath/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-04-26 13:53:59" itemprop="dateCreated datePublished" datetime="2024-04-26T13:53:59+08:00">2024-04-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-04-30 10:04:06" itemprop="dateModified" datetime="2024-04-30T10:04:06+08:00">2024-04-30</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>6.2k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>11 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="JSONPath"><a href="#JSONPath" class="headerlink" title="JSONPath"></a>JSONPath</h1><h1 id="1-介绍"><a href="#1-介绍" class="headerlink" title="1. 介绍"></a>1. 介绍</h1><p>JSONPath是一种在JSON数据中查询和提取特定元素的语言，类似地还有XPath语言用于检索xml数据。JSONPath提供了一种简单、有效的方法来定位JSON文档中的元素，并支持基本的查询、筛选和操作。它在Web开发、API集成、数据转换等领域具有广泛的应用，目前JSONPath提供了多种语言的实现版本，包括JavaScript、Java、Python和PHP等。</p>
<h1 id="2-语法"><a href="#2-语法" class="headerlink" title="2. 语法"></a>2. 语法</h1><h2 id="2-1-JSON数据"><a href="#2-1-JSON数据" class="headerlink" title="2.1 JSON数据"></a>2.1 JSON数据</h2><p>JSON数据主要由两种结构组成：</p>
<ul>
<li>对象：对象是{}括起来的内容，主要是{ key：value, key：value, … }的键值对结构，可以按照key进行访问</li>
<li>数组：数组是[]括起来的内容，主要通过索引进行访问</li>
</ul>
<h2 id="2-2-JSONPath-和-XPath语法对比"><a href="#2-2-JSONPath-和-XPath语法对比" class="headerlink" title="2.2 JSONPath 和 XPath语法对比"></a>2.2 JSONPath 和 XPath语法对比</h2><table>
<thead>
<tr>
<th>XPath</th>
<th>JSONPath</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>/</code></td>
<td><code>$</code></td>
<td>根节点对象</td>
</tr>
<tr>
<td><code>.</code></td>
<td><code>@</code></td>
<td>现行节点(当前节点)</td>
</tr>
<tr>
<td><code>/</code></td>
<td><code>.</code>or<code>[]</code></td>
<td>取子节点</td>
</tr>
<tr>
<td>..</td>
<td>n&#x2F;a</td>
<td>取父节点，JSONPath不支持</td>
</tr>
<tr>
<td><code>//</code></td>
<td><code>..</code></td>
<td>不管位置，选择所有符合条件的内容，相当于递归进行匹配</td>
</tr>
<tr>
<td><code>*</code></td>
<td><code>*</code></td>
<td>匹配所有元素节点</td>
</tr>
<tr>
<td><code>@</code></td>
<td>n&#x2F;a</td>
<td>根据属性访问，JSON不支持，因为JSON是个Key-value递归结构，不需要。</td>
</tr>
<tr>
<td><code>[]</code></td>
<td><code>[]</code>or<code>[,]</code></td>
<td>迭代器，用于访问数组元素，表示一个或多个数组下标</td>
</tr>
<tr>
<td><code>[]</code></td>
<td><code>?()</code></td>
<td>过滤表达式，支持筛选操作</td>
</tr>
<tr>
<td>n&#x2F;a</td>
<td><code>()</code></td>
<td>支持表达式计算</td>
</tr>
<tr>
<td><code>()</code></td>
<td>n&#x2F;a</td>
<td>分组，jsonpath不支持</td>
</tr>
<tr>
<td></td>
<td>[start:end]</td>
<td>数组切片,切片区间为[start,end),不包括end</td>
</tr>
</tbody></table>
<h2 id="2-3-函数"><a href="#2-3-函数" class="headerlink" title="2.3 函数"></a>2.3 函数</h2><p>可以在JSONPath表达式执行后调用，输入值为表达式结果</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
<th>输出</th>
</tr>
</thead>
<tbody><tr>
<td>min()</td>
<td>获取数值类型数组的最小值</td>
<td>Double</td>
</tr>
<tr>
<td>max()</td>
<td>获取数值类型数组的最大值</td>
<td>Double</td>
</tr>
<tr>
<td>avg()</td>
<td>获取数值类型数组的平均值</td>
<td>Double</td>
</tr>
<tr>
<td>stddev()</td>
<td>获取数值类型数组的标准差</td>
<td>Double</td>
</tr>
<tr>
<td>length()</td>
<td>获取数值类型数组的长度</td>
<td>Integer</td>
</tr>
</tbody></table>
<h2 id="2-4-过滤器"><a href="#2-4-过滤器" class="headerlink" title="2.4 过滤器"></a>2.4 过滤器</h2><table>
<thead>
<tr>
<th>操作符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>==</code></td>
<td>等于符号</td>
</tr>
<tr>
<td><code>!=</code></td>
<td>不等号</td>
</tr>
<tr>
<td><code>&lt;</code></td>
<td>小于号</td>
</tr>
<tr>
<td><code>&lt;=</code></td>
<td>小于等于号</td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td>大于号</td>
</tr>
<tr>
<td><code>&gt;=</code></td>
<td>大于等于号</td>
</tr>
<tr>
<td><code>=~</code> or <code>regex</code></td>
<td>判断是否等于正则表达式</td>
</tr>
<tr>
<td><code>in</code></td>
<td>所属符号，例如[?(size in [‘S’, ‘M’])]</td>
</tr>
<tr>
<td><code>nin</code></td>
<td>排除符号</td>
</tr>
<tr>
<td><code>size()</code> or <code>length()</code></td>
<td>在某些实现中，这两个关键字可用于获取数组或字符串的长度。<br>注意，不是所有的JSONPath实现都支持这两个关键字，且它们的具体名称和用法可能因实现而异。</td>
</tr>
<tr>
<td><code>empty</code></td>
<td>判空符号</td>
</tr>
<tr>
<td><code>exists</code></td>
<td>检查某个字段是否存在</td>
</tr>
</tbody></table>
<h1 id="3-示例"><a href="#3-示例" class="headerlink" title="3. 示例"></a>3. 示例</h1><p>待解析的json,获取uProductVers的值</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;deviceId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;XXXXXXXXXX&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;deviceModules&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;moduleId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;moduleInfos&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;uProductFWType&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;WIFIWIFIWIFI&quot;</span></span><br><span class="line">                <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;uProductVers&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1111111111&quot;</span></span><br><span class="line">                <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;supportUpgrade&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span></span><br><span class="line">                <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;upgradePackageVer&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.2&quot;</span></span><br><span class="line">                <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;moduleType&quot;</span><span class="punctuation">:</span> <span class="string">&quot;firmware&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;moduleId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;789654321&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;moduleInfos&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;baseboardVer&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;010101010101&quot;</span></span><br><span class="line">                <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;supportUpgrade&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span></span><br><span class="line">                <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;baseboardId&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;789654321&quot;</span></span><br><span class="line">                <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;moduleType&quot;</span><span class="punctuation">:</span> <span class="string">&quot;baseboard&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>



<h2 id="3-1-Java示例"><a href="#3-1-Java示例" class="headerlink" title="3.1 Java示例"></a>3.1 Java示例</h2><ul>
<li><p>maven中添加依赖：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.jayway.jsonpath<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>json-path<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>导入JsonPath包</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.jayway.jsonpath.JsonPath;</span><br></pre></td></tr></table></figure>
</li>
<li><p>解析json，注意返回格式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">jsonStr</span> <span class="operator">=</span> <span class="string">&quot;&#123;\&quot;deviceId\&quot;:\&quot;XXXXXXXXXX\&quot;,\&quot;deviceModules\&quot;:[&#123;\&quot;moduleId\&quot;:\&quot;\&quot;,\&quot;moduleInfos\&quot;:[&#123;\&quot;key\&quot;:\&quot;uProductFWType\&quot;,\&quot;value\&quot;:\&quot;WIFIWIFIWIFI\&quot;&#125;,&#123;\&quot;key\&quot;:\&quot;uProductVers\&quot;,\&quot;value\&quot;:\&quot;1111111111\&quot;&#125;,&#123;\&quot;key\&quot;:\&quot;supportUpgrade\&quot;,\&quot;value\&quot;:\&quot;1\&quot;&#125;,&#123;\&quot;key\&quot;:\&quot;upgradePackageVer\&quot;,\&quot;value\&quot;:\&quot;0.2\&quot;&#125;],\&quot;moduleType\&quot;:\&quot;firmware\&quot;&#125;,&#123;\&quot;moduleId\&quot;:\&quot;789654321\&quot;,\&quot;moduleInfos\&quot;:[&#123;\&quot;key\&quot;:\&quot;baseboardVer\&quot;,\&quot;value\&quot;:\&quot;010101010101\&quot;&#125;,&#123;\&quot;key\&quot;:\&quot;supportUpgrade\&quot;,\&quot;value\&quot;:\&quot;1\&quot;&#125;,&#123;\&quot;key\&quot;:\&quot;baseboardId\&quot;,\&quot;value\&quot;:\&quot;789654321\&quot;&#125;],\&quot;moduleType\&quot;:\&quot;baseboard\&quot;&#125;]&#125;&quot;</span>;</span><br><span class="line"><span class="comment">// 注意返回类型,不确定就用object</span></span><br><span class="line"><span class="type">Object</span> <span class="variable">uProductVers</span> <span class="operator">=</span> JsonPath.read(jsonStr, <span class="string">&quot;$.deviceModules[0].moduleInfos.[?(@.key == &#x27;uProductVers&#x27;)].value&quot;</span>);</span><br><span class="line">System.out.println(uProductVers); <span class="comment">// 输出[&quot;1111111111&quot;]</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-2-Python示例"><a href="#3-2-Python示例" class="headerlink" title="3.2 Python示例"></a>3.2 Python示例</h2><ul>
<li><p>安装jsonpath工具库</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install jsonpath-ng</span><br></pre></td></tr></table></figure>
</li>
<li><p>代码示例</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> jsonpath_ng <span class="keyword">import</span> jsonpath,parse</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">jsonstr = <span class="string">&#x27;&#123;&quot;deviceId&quot;:&quot;XXXXXXXXXX&quot;,&quot;deviceModules&quot;:[&#123;&quot;moduleId&quot;:&quot;&quot;,&quot;moduleInfos&quot;:[&#123;&quot;key&quot;:&quot;uProductFWType&quot;,&quot;value&quot;:&quot;WIFIWIFIWIFI&quot;&#125;,&#123;&quot;key&quot;:&quot;uProductVers&quot;,&quot;value&quot;:&quot;1111111111&quot;&#125;,&#123;&quot;key&quot;:&quot;supportUpgrade&quot;,&quot;value&quot;:&quot;1&quot;&#125;,&#123;&quot;key&quot;:&quot;upgradePackageVer&quot;,&quot;value&quot;:&quot;0.2&quot;&#125;],&quot;moduleType&quot;:&quot;firmware&quot;&#125;,&#123;&quot;moduleId&quot;:&quot;789654321&quot;,&quot;moduleInfos&quot;:[&#123;&quot;key&quot;:&quot;baseboardVer&quot;,&quot;value&quot;:&quot;010101010101&quot;&#125;,&#123;&quot;key&quot;:&quot;supportUpgrade&quot;,&quot;value&quot;:&quot;1&quot;&#125;,&#123;&quot;key&quot;:&quot;baseboardId&quot;,&quot;value&quot;:&quot;789654321&quot;&#125;],&quot;moduleType&quot;:&quot;baseboard&quot;&#125;]&#125;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # 将json字符串解析为json对象</span></span><br><span class="line">json_obj = json.loads(jsonstr)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义JSONPath表达式</span></span><br><span class="line">jsonpath_exp = parse(<span class="string">&quot;$.deviceModules[0].moduleInfos[?(@.key == &#x27;uProductVers&#x27;)].value&quot;</span>)</span><br><span class="line"><span class="comment"># 根据jsonpath表达式解析json</span></span><br><span class="line">target_str = jsonpath_exp.find(json_obj)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印结果</span></span><br><span class="line"><span class="keyword">if</span> target_str:</span><br><span class="line">    <span class="built_in">print</span>(target_str[<span class="number">0</span>].value)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;无法匹配&quot;</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-3-hive示例"><a href="#3-3-hive示例" class="headerlink" title="3.3 hive示例"></a>3.3 hive示例</h2><ul>
<li><p>示例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT </span><br><span class="line">    GET_JSON_OBJECT(&#x27;&#123;&quot;deviceId&quot;:&quot;XXXXXXXXXX&quot;,&quot;deviceModules&quot;:[&#123;&quot;moduleId&quot;:&quot;&quot;,&quot;moduleInfos&quot;:[&#123;&quot;key&quot;:&quot;uProductFWType&quot;,&quot;value&quot;:&quot;WIFIWIFIWIFI&quot;&#125;,&#123;&quot;key&quot;:&quot;uProductVers&quot;,&quot;value&quot;:&quot;1111111111&quot;&#125;,&#123;&quot;key&quot;:&quot;supportUpgrade&quot;,&quot;value&quot;:&quot;1&quot;&#125;,&#123;&quot;key&quot;:&quot;upgradePackageVer&quot;,&quot;value&quot;:&quot;0.2&quot;&#125;],&quot;moduleType&quot;:&quot;firmware&quot;&#125;,&#123;&quot;moduleId&quot;:&quot;789654321&quot;,&quot;moduleInfos&quot;:[&#123;&quot;key&quot;:&quot;baseboardVer&quot;,&quot;value&quot;:&quot;010101010101&quot;&#125;,&#123;&quot;key&quot;:&quot;supportUpgrade&quot;,&quot;value&quot;:&quot;1&quot;&#125;,&#123;&quot;key&quot;:&quot;baseboardId&quot;,&quot;value&quot;:&quot;789654321&quot;&#125;],&quot;moduleType&quot;:&quot;baseboard&quot;&#125;]&#125;&#x27;</span><br><span class="line">    ,&#x27;$.deviceModules[0].moduleInfos[?(@.key == &quot;uProductVers&quot;)].value&#x27;)</span><br><span class="line">    --- 得到空字符串</span><br></pre></td></tr></table></figure>

<p>hive中的GET_JSON_OBJECT()函数，第二个参数为jsonpath表达式，但是这个表达式不支持过滤器操作。</p>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hackertaizi.gitee.io/ETL/SQL%E8%AF%AD%E5%8F%A5%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Taizi">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="太子的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 太子的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/ETL/SQL%E8%AF%AD%E5%8F%A5%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F/" class="post-title-link" itemprop="url">SQL语句执行顺序</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-03-16 10:18:54" itemprop="dateCreated datePublished" datetime="2024-03-16T10:18:54+08:00">2024-03-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-03-19 14:41:59" itemprop="dateModified" datetime="2024-03-19T14:41:59+08:00">2024-03-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/ETL/" itemprop="url" rel="index"><span itemprop="name">ETL</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.1k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>4 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="SQL语句执行顺序"><a href="#SQL语句执行顺序" class="headerlink" title="SQL语句执行顺序"></a>SQL语句执行顺序</h1><h2 id="0-执行循序查看"><a href="#0-执行循序查看" class="headerlink" title="0. 执行循序查看"></a>0. 执行循序查看</h2><blockquote>
<p>EXPLAIN + SQL   </p>
<p>EXPLAIN EXTENDED + SQL</p>
</blockquote>
<h2 id="1-HiveSql-HQL-执行顺序"><a href="#1-HiveSql-HQL-执行顺序" class="headerlink" title="1. HiveSql (HQL) 执行顺序"></a>1. HiveSql (HQL) 执行顺序</h2><h3 id="1-1-书写顺序"><a href="#1-1-书写顺序" class="headerlink" title="1.1 书写顺序"></a>1.1 书写顺序</h3><p><strong>SELECT</strong></p>
<p><strong>DISTINCT</strong></p>
<p><strong>FROM</strong></p>
<p><strong>[LATERAL VIEW EXPLODE 需要炸裂的列 tbl AS 别名]</strong></p>
<p><strong>JOIN ON</strong></p>
<p><strong>WHERE</strong></p>
<p><strong>GROUP BY</strong></p>
<p><strong>HAVING</strong></p>
<p><strong>ORDER BY</strong></p>
<p><strong>LIMIT</strong></p>
<h3 id="1-2-查询语句执行顺序-逻辑顺序，查询优化器可能会重新安排顺序以优化性能"><a href="#1-2-查询语句执行顺序-逻辑顺序，查询优化器可能会重新安排顺序以优化性能" class="headerlink" title="1.2 查询语句执行顺序(逻辑顺序，查询优化器可能会重新安排顺序以优化性能)"></a>1.2 查询语句执行顺序(逻辑顺序，查询优化器可能会重新安排顺序以优化性能)</h3><p><strong>FROM</strong></p>
<p>**JOIN ON **</p>
<p><strong>WHERE</strong></p>
<p><strong>GROUP BY （SELECT 未执行，不可使用SELECT中的别名）</strong></p>
<p><strong>聚合函数</strong></p>
<p><strong>SELECT（如果包含开窗函数再，开窗函数最后执行，开窗函数的分区和排序不依赖查询字段）</strong></p>
<p><strong>HAVING (聚合函数及其别名已经解析完毕，此时可以使用聚合列别名)</strong></p>
<p><strong>DISTINCT</strong></p>
<p><strong>窗口函数</strong></p>
<p><strong>ORDER BY (全局)</strong></p>
<p><strong>LIMIT</strong></p>
<p><strong>UNION &#x2F; UNION ALL</strong></p>
<h4 id="1-2-1-复杂情况下的执行顺序"><a href="#1-2-1-复杂情况下的执行顺序" class="headerlink" title="1.2.1 复杂情况下的执行顺序"></a>1.2.1 复杂情况下的执行顺序</h4><ul>
<li><p>子查询介入</p>
<p>在以上查询语句中，如果使用子查询，大致(因为有查询优化器的影响)可以认为先执行子查询，得到的结果存储起来等待外部查询使用。</p>
</li>
<li><p>使用窗口函数</p>
<blockquote>
<p>窗口函数是在SELECT子句中最后执行，相当于二次查询</p>
</blockquote>
<ul>
<li><p>有group by时，窗口函数基于分组查询后的数据集进行开窗</p>
<ul>
<li><p>如何基于group by分组，对分组结果进行开窗运算：</p>
<p>假设有一个名为 sales 的表，其中包含 year, product, 和 amount 列。想按 year 和 product 分组，计算每个产品的总销售额，然后计算每个产品在《当年》销售额的排名。</p>
<p>可以首先使用 GROUP BY 计算总销售额，然后使用窗口函数 RANK() 或 DENSE_RANK() 来计算排名。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SELECT   </span><br><span class="line">    year,  </span><br><span class="line">    product,  </span><br><span class="line">    SUM(amount) AS total_amount,  </span><br><span class="line">    RANK() OVER (PARTITION BY year ORDER BY SUM(amount) DESC) AS sales_rank  </span><br><span class="line">FROM   </span><br><span class="line">    sales  </span><br><span class="line">GROUP BY   </span><br><span class="line">    year,   </span><br><span class="line">    product;</span><br></pre></td></tr></table></figure>

<p>在这个查询中：</p>
<ul>
<li><code>GROUP BY year, product</code> 将数据按年份和产品分组。</li>
<li><code>SUM(amount) AS total_amount</code> 计算每个分组（即每个年份的每个产品）的总销售额。</li>
<li><code>RANK() OVER (PARTITION BY year ORDER BY SUM(amount) DESC)</code> 是一个窗口函数，它在每个年份的分区内对总销售额进行排序，并为每个产品分配一个排名。排名是基于 <code>SUM(amount)</code> 降序排列的。</li>
</ul>
<p>注意，在窗口函数内部，不能直接使用 <code>GROUP BY</code> 子句中的聚合函数的结果（如 <code>SUM(amount)</code>）。这是因为窗口函数是在分组聚合之后、结果集生成之前应用的。所以，需<strong>要确保窗口函数中的表达式与 <code>GROUP BY</code> 子句兼容，并且只引用分组列或常量。</strong></p>
<p>在上面的例子中，虽然 <code>RANK()</code> 函数内部看起来像是在使用 <code>SUM(amount)</code>，但实际上 Hive 会先执行 <code>GROUP BY</code> 和聚合，然后对每个分组的结果应用窗口函数。这意味着每个分组内只有一行数据（聚合后的结果），窗口函数将在这行数据上执行。</p>
</li>
</ul>
</li>
<li><p>没有group by时，窗口函数基于查询数据集开窗</p>
</li>
</ul>
</li>
<li><p>使用了多表关联</p>
<p>多表关联情况下，hive通过查询优化器生成执行计划，确定执行顺序，具体有以下关键因素会影响查询顺序：</p>
<ul>
<li>表的大小和统计信息：Hive 优化器通常会尝试首先扫描较小的表，以减少需要处理的数据量。Hive 会使用表的元数据和统计信息（如果可用）来帮助确定表的大小。</li>
<li>连接类型：不同类型的连接（如 INNER JOIN、LEFT OUTER JOIN 等）会影响查询的执行顺序。例如，在外连接中，Hive 可能会优先处理那些需要保留所有行的表。</li>
<li>连接键：如果连接键上有索引或分区，Hive 可能会利用这些索引或分区来优化查询的执行顺序。</li>
<li>其他操作：聚合过滤等，Hive 优化器会尝试找到一个能够最小化数据移动和计算成本的执行计划。</li>
</ul>
</li>
<li><p>复杂的聚合和分组操作<br>基本都是查询优化器会受影响，不再赘述</p>
</li>
<li><p>复杂的过滤条件<br>基本都是查询优化器会受影响，不再赘述</p>
</li>
</ul>
<h4 id="1-2-1-基于执行顺序的优化"><a href="#1-2-1-基于执行顺序的优化" class="headerlink" title="1.2.1 基于执行顺序的优化"></a>1.2.1 基于执行顺序的优化</h4><ul>
<li>尽早进行数据过滤<br>在数据处理之前，尽量在执行顺序靠前的地方将进行数据过滤，将数据集减小，例如连接语句外的where条件是在join之后进行，也就是先join得到结果再进行过滤，对连接起不到优化效果。所以在join时可以采用子查询，在join前先进行一次过滤</li>
</ul>
<h2 id="1-3-过滤条件优先级"><a href="#1-3-过滤条件优先级" class="headerlink" title="1.3 过滤条件优先级"></a>1.3 过滤条件优先级</h2><p><strong>()</strong></p>
<p><strong>NOT</strong> </p>
<p><strong>AND</strong> </p>
<p><strong>OR</strong></p>
<blockquote>
<p>在逻辑运算符优先级平级的情况下，过滤条件式按照从左到右的顺序执行；</p>
<p>在逻辑运算符优先级不平级的情况下，按照优先级执行，如果有括号，优先执行括号中的条件</p>
</blockquote>
<p>eg: </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">WHERE a=1 AND b=1 OR c=1</span><br><span class="line">-- 由于 逻辑运算符优先级 AND &gt; OR ,所以先执行a=1 AND b=1 ,再执行c=1, 相当于 WHERE (a=1 AND b=1) OR c=1</span><br><span class="line">WHERE a=1 AND (b=1 OR c=1)</span><br><span class="line">-- 逻辑运算符不平级情况下，括号优先级最高，先执行括号中的内容，再从左到右执行</span><br><span class="line">WHERE a=1 AND (b=1 AND c=1)</span><br><span class="line">-- 逻辑运算符平级，从左到右执行</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hackertaizi.gitee.io/ETL/ETL%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Taizi">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="太子的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 太子的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/ETL/ETL%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C/" class="post-title-link" itemprop="url">ETL开发经验</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-02-26 18:45:31" itemprop="dateCreated datePublished" datetime="2024-02-26T18:45:31+08:00">2024-02-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-03-18 18:48:20" itemprop="dateModified" datetime="2024-03-18T18:48:20+08:00">2024-03-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/ETL/" itemprop="url" rel="index"><span itemprop="name">ETL</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.7k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>3 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="ETL开发经验"><a href="#ETL开发经验" class="headerlink" title="ETL开发经验"></a>ETL开发经验</h1><h2 id="表结构设计"><a href="#表结构设计" class="headerlink" title="表结构设计"></a>表结构设计</h2><h2 id="关于同环比的计算"><a href="#关于同环比的计算" class="headerlink" title="关于同环比的计算"></a>关于同环比的计算</h2><h3 id="计算公式："><a href="#计算公式：" class="headerlink" title="计算公式："></a>计算公式：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">一般情况下，如果业务是正向的，即希望数据量越来越高(希望本期高于同期)，同环比计算公式如下（网上的公式都是这样的）：</span><br><span class="line">	同比：同比 = (本期量-同期量) / 同期量 * 100%</span><br><span class="line">	环比：环比 = (本期量-环比周期量) / 环比周期量 * 100%</span><br><span class="line">	</span><br><span class="line">在某些特殊情况下，例如业务上统计量希望越低越好(希望本期低于同期)，此时同环比计算可能会希望计算结果的正负，与一般情况下相反：</span><br><span class="line">例如：</span><br><span class="line">	如果是销售量，我们希望越高越好，那么如果采用上面的公式，当本期高于同期时，同比是一个正数，这正式我们需要的。</span><br><span class="line">	如果是损失量，我们希望越低越好，当本期高于同期时，从业务上来说是一种不好的结果，我们希望得到一个负数，此时同环比公式需要调换一下分子的减数被减数位置，使得到的比值绝对值不变，而符号相反：</span><br><span class="line">	特殊情况下的同比：同比 = (同期量-本期量) / 同期量 * 100%</span><br><span class="line">	特殊情况下的同比：环比 = (环比周期量-本期量) / 环比周期量 * 100%</span><br></pre></td></tr></table></figure>

<h3 id="设计思路："><a href="#设计思路：" class="headerlink" title="设计思路："></a>设计思路：</h3><ul>
<li><strong>当报表端筛选器都是单选时</strong>，即维度不会出现组合的情况，同一维度可以唯一确定一条数据，前端报表不需要做聚合，这<strong>种情况下可以在数据端提前将同环比算好，在报表端无需多余操作，直接展示即可。</strong></li>
<li><strong>当报表端筛选器有多选的情况</strong>，此时维度出现组合情况，即前端报表展示结果可能是多条数据聚合计算的结果，<strong>这种情况下不能提前计算同环比</strong>，因为比值无法聚合（分母不同，加和出来聚合结果没有意义），<strong>此时只需要把本期量、同期量、环比周期量等数据算好，比值在报表端进行动态计算。</strong></li>
</ul>
<h3 id="代码-x2F-伪代码示例"><a href="#代码-x2F-伪代码示例" class="headerlink" title="代码&#x2F;伪代码示例"></a>代码&#x2F;伪代码示例</h3><p>我们以业务是正向的为例，即上面计算公式中的第一套公式为例：</p>
<blockquote>
<p>同比：同比 &#x3D; (本期量-同期量) &#x2F; 同期量 * 100%<br>环比：环比 &#x3D; (本期量-环比周期量) &#x2F; 环比周期量 * 100%</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">	<span class="keyword">CASE</span></span><br><span class="line">		<span class="keyword">WHEN</span> ISNULL(同期量或环比周期量) <span class="keyword">THEN</span> <span class="keyword">NULL</span>  <span class="comment">--分母不为空</span></span><br><span class="line">		<span class="keyword">WHEN</span> 同期量或环比周期量 <span class="operator">=</span> <span class="number">0</span> <span class="keyword">THEN</span> <span class="keyword">NULL</span>  <span class="comment">--分母不为零</span></span><br><span class="line">		<span class="keyword">ELSE</span> (同期量或环比周期量 <span class="operator">-</span> 本期量) <span class="operator">/</span> 同期量或环比周期量   <span class="comment">--套公式</span></span><br><span class="line">	<span class="keyword">END</span> <span class="keyword">AS</span> 同比或环比</span><br></pre></td></tr></table></figure>



<h2 id="关于缺失值的处理"><a href="#关于缺失值的处理" class="headerlink" title="关于缺失值的处理"></a>关于缺失值的处理</h2><h3 id="缺失值的概念"><a href="#缺失值的概念" class="headerlink" title="缺失值的概念"></a>缺失值的概念</h3><p>通常情况，若有不可见字符的数据、或者是为了表示数据缺失而使用短横线、斜线等各种符号，这些数据我们统称为缺失值。</p>
<h3 id="缺失值统一"><a href="#缺失值统一" class="headerlink" title="缺失值统一"></a>缺失值统一</h3><p>一般情况下，从ODS贴源层就要对缺失值进行处理了，这是数据清洗非常重要的一环。</p>
<p>缺失值处理的第一步就是要对缺失值进行统一，这里<strong>推荐将所有缺失值统一成NULL</strong>，因为数据库对于NULL值支持很多操作，便于后续处理。</p>
<p>一般情况下，我们只需要考虑将空字符串统一为NULL:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT IF(column_name = &#x27;&#x27;, NULL, column_name)</span><br></pre></td></tr></table></figure>

<p>如果有一些特殊符号表示的缺失值，例如空字符串、短横线等，也可以使用IF直接处理：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT IF(column_name IN (&#x27;&#x27;, &#x27;-&#x27;), NULL, column_name)</span><br></pre></td></tr></table></figure>

<p>如果有一些不可见字符，则需要使用正则表达式处理(这里的正则表达式表示ASCII中的1~37号字符):</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT IF(regexp_replace(column_name, &#x27;[\000-\037]+&#x27;, &#x27;&#x27;) = &#x27;&#x27;, NULL, column_name) </span><br></pre></td></tr></table></figure>

<p>各种其他缺失值情况需要灵活处理及验证。</p>
<h3 id="缺失值填充"><a href="#缺失值填充" class="headerlink" title="缺失值填充"></a>缺失值填充</h3><p>我们<strong>建议在缺失值统一为NULL后，再将所有缺失值约定一个特定值进行填充</strong>，例如<code>其他</code>、<code>unknown</code>等等，只要是一个不影响业务数据，且含义明确的值。由于缺失值已经统一为NULL，填充操作可以使用coalesce函数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT COALESCE(column_name, &#x27;其他&#x27;) AS column_name   -- 缺失值填充为“其他”</span><br></pre></td></tr></table></figure>

<h3 id="缺失值场景"><a href="#缺失值场景" class="headerlink" title="缺失值场景"></a>缺失值场景</h3><ul>
<li>表连接的连接字段中如果存在缺失值(null)，则存在缺失值的数据不会与其他表进行关联，<strong>强烈建议在关联前检查关联字段的缺失值情况</strong></li>
<li>group by 聚合分组的字段中如果存在缺失值(null)，则null值也会作为一种数据进行分组</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hackertaizi.gitee.io/%E5%85%B6%E4%BB%96/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AE%97%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Taizi">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="太子的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 太子的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/%E5%85%B6%E4%BB%96/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AE%97%E6%B3%95/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-12-25 18:20:56" itemprop="dateCreated datePublished" datetime="2023-12-25T18:20:56+08:00">2023-12-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-12-26 15:35:08" itemprop="dateModified" datetime="2023-12-26T15:35:08+08:00">2023-12-26</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.8k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>3 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="动态规划算法"><a href="#动态规划算法" class="headerlink" title="动态规划算法"></a>动态规划算法</h1><h2 id="1-动态规划简介"><a href="#1-动态规划简介" class="headerlink" title="1. 动态规划简介"></a>1. 动态规划简介</h2><h3 id="1-1-动态规划定义"><a href="#1-1-动态规划定义" class="headerlink" title="1.1 动态规划定义"></a>1.1 动态规划定义</h3><blockquote>
<p><strong>动态规划（Dynamic Programming）</strong>：简称 <strong>DP</strong>，是一种求解多阶段决策过程最优化问题的方法。在动态规划中，通过把原问题分解为相对简单的子问题，先求解子问题，再由子问题的解而得到原问题的解。</p>
</blockquote>
<h3 id="1-2-动态规划核心思想"><a href="#1-2-动态规划核心思想" class="headerlink" title="1.2 动态规划核心思想"></a>1.2 动态规划核心思想</h3><blockquote>
<p>把「原问题」分解为「若干个重叠的子问题」，每个子问题的求解过程都构成一个 「阶段」。在完成一个阶段的计算之后，动态规划方法才会执行下一个阶段的计算。</p>
<p>在求解子问题的过程中，按照「自顶向下的记忆化搜索方法」或者「自底向上的递推方法」求解出「子问题的解」，把结果存储在表格中，当需要再次求解此子问题时，直接从表格中查询该子问题的解，从而避免了大量的重复计算。</p>
</blockquote>
<h3 id="1-3-示例"><a href="#1-3-示例" class="headerlink" title="1.3 示例"></a>1.3 示例</h3><p>下面先来通过一个简单的例子来介绍一下什么是动态规划算法，然后再来讲解动态规划中的各种术语。</p>
<blockquote>
<p>斐波那契数列：数列由 f(0) &#x3D; 0，f(1) &#x3D; 1，f(2) &#x3D; 1 开始，后面的每一项数字都是前面两项数字的和。也就是：</p>
<p>$f(n) &#x3D; f(n - 2) + f(n - 1)$</p>
</blockquote>
<p>可以将原问题$f(n) 递归划分为 $f(n-2) 和 $f(n-1) 两个子问题，递归过程如下图所示：<br><img src="/%E5%85%B6%E4%BB%96/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AE%97%E6%B3%95/b32177f4eafe4618265e5a16de555cdc.png" alt="b32177f4eafe4618265e5a16de555cdc"></p>
<p>从图中可以看出，传统递归算法计算时有重复计算问题，为了避免该问题，可以使用动态规划中的表格处理方法。</p>
<p>此处使用自底向上的递推方法求解出子问题f(n-2) 和 f(n-1) 的解，然后把结果存储在表格中，供随后的计算查询使用，过程如下：</p>
<ol>
<li>定义一个数组dp，用于记录斐波那契数列中的值。</li>
<li>初始化dp[0] &#x3D; 0, dp[1] &#x3D; 1</li>
<li>根据斐波那契数列的递推公式f(n) &#x3D; f(n - 2) + f(n - 1)，从dp[2] 开始递推计算斐波那契数列的每个数，直到计算出dp[n]。</li>
<li>返回dp[n]即可得到第n项斐波那契数。</li>
</ol>
<p>代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    def <span class="title function_">fib</span><span class="params">(self, n: <span class="type">int</span>)</span> -&gt; <span class="type">int</span>:</span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        dp = [<span class="number">0</span> <span class="keyword">for</span> _ in <span class="title function_">range</span><span class="params">(n + <span class="number">1</span>)</span>]</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">        dp[<span class="number">1</span>] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i in <span class="title function_">range</span><span class="params">(<span class="number">2</span>, n + <span class="number">1</span>)</span>:</span><br><span class="line">            dp[i] = dp[i - <span class="number">2</span>] + dp[i - <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> dp[n]</span><br></pre></td></tr></table></figure>

<p><strong>这种使用缓存(哈希表、集合或数组)保存计算结果，从而避免重复计算的方法，就是动态规划算法</strong></p>
<h2 id="2-动态规划的特征"><a href="#2-动态规划的特征" class="headerlink" title="2. 动态规划的特征"></a>2. 动态规划的特征</h2><p>能够使用动态规划方法解决的问题必须满足一下三个特征：</p>
<ol>
<li>最优子结构性质</li>
<li>重叠子问题性质</li>
<li>无后效性</li>
</ol>
<h3 id="2-1-最优子结构性质"><a href="#2-1-最优子结构性质" class="headerlink" title="2.1 最优子结构性质"></a>2.1 最优子结构性质</h3><blockquote>
<p><strong>最优子结构</strong>：指的是一个问题的最优解包含其子问题的最优解。</p>
</blockquote>
<p>就是说原问题的最优解可以分解成求解子问题的最优解。</p>
<h3 id="2-2-重叠子问题性质"><a href="#2-2-重叠子问题性质" class="headerlink" title="2.2 重叠子问题性质"></a>2.2 重叠子问题性质</h3><blockquote>
<p><strong>重叠子问题性质</strong>：指的是在求解子问题的过程中，有大量的子问题是重复的，一个子问题在下一阶段的决策中可能会被多次用到。如果有大量重复的子问题，那么只需要对其求解一次，然后用表格将结果存储下来，以后使用时可以直接查询，不需要再次求解。</p>
</blockquote>
<h3 id="2-3-无后效性"><a href="#2-3-无后效性" class="headerlink" title="2.3 无后效性"></a>2.3 无后效性</h3><blockquote>
<p><strong>无后效性</strong>：指的是子问题的解（状态值）只与之前阶段有关，而与后面阶段无关。当前阶段的若干状态值一旦确定，就不再改变，不会再受到后续阶段决策的影响。</p>
</blockquote>
<p>也就是说，<strong>一旦某一个子问题的求解结果确定以后，就不会再被修改</strong>。</p>
<p>如果一个问题具有「后效性」，则可能需要先将其转化或者逆向求解来消除后效性，然后才可以使用动态规划算法。</p>
<h2 id="3-动态规划的基本思路"><a href="#3-动态规划的基本思路" class="headerlink" title="3. 动态规划的基本思路"></a>3. 动态规划的基本思路</h2><ol>
<li><p>划分阶段：将原问题按顺序(时间、空间或其他顺序)分解为若干个相互联系的阶段。划分后的阶段一定是有序的或可排序的，否则问题无解。(这里的「阶段」指的是⼦问题的求解过程。每个⼦问题的求解过程都构成⼀个「阶段」，在完成前⼀阶段的求解后才会进⾏后⼀阶段的求解)</p>
</li>
<li><p>定义状态：将原问题划分为若干个子问题，定义状态表示问题的不同阶段和状态。</p>
</li>
<li><p>定义状态转移方程：根据子问题之间的关系，定义状态转移方程，表示从一个状态转移到另一个状态的决策过程。</p>
</li>
<li><p>确定边界条件：确定问题的边界条件，即最小子问题的解。</p>
</li>
<li><p>求解问题：根据状态转移方程和边界条件，求解问题的最优解。</p>
</li>
</ol>
<p>动态规划的核心思想是将原问题划分为若干个子问题，通过求解子问题的最优解来求解原问题的最优解。在求解子问题的过程中，动态规划会保存已经求解过的子问题的解，避免重复计算，从而提高算法的效率。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hackertaizi.gitee.io/ETL/%E5%B8%B8%E7%94%A8%E7%9A%84%E4%B8%9A%E5%8A%A1%E5%BC%80%E5%8F%91%E9%80%BB%E8%BE%91%E6%B1%87%E6%80%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Taizi">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="太子的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 太子的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/ETL/%E5%B8%B8%E7%94%A8%E7%9A%84%E4%B8%9A%E5%8A%A1%E5%BC%80%E5%8F%91%E9%80%BB%E8%BE%91%E6%B1%87%E6%80%BB/" class="post-title-link" itemprop="url">常用的业务开发逻辑汇总</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2023-12-22 17:25:57 / 修改时间：17:28:53" itemprop="dateCreated datePublished" datetime="2023-12-22T17:25:57+08:00">2023-12-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/ETL/" itemprop="url" rel="index"><span itemprop="name">ETL</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>4k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>7 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="常用的业务开发逻辑汇总"><a href="#常用的业务开发逻辑汇总" class="headerlink" title="常用的业务开发逻辑汇总"></a>常用的业务开发逻辑汇总</h1><h2 id="时间相关的计算"><a href="#时间相关的计算" class="headerlink" title="时间相关的计算"></a>时间相关的计算</h2><p>包括怎么求日期间的差值、怎么转换日期格式、怎么获取年初月初年末月末，怎么确定某天是周几，是一年中的第几天等等等等一系列有关于时间的计算，可以从下面的例子中有所启发</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">SELECT </span><br><span class="line">    standard_daytime</span><br><span class="line">    ,abbreviated_daytime</span><br><span class="line">    ,CONCAT(YEAR(standard_daytime), &#x27;年&#x27;) AS year_unit  --所在年份(xxxx年)</span><br><span class="line">    ,CONCAT(</span><br><span class="line">        YEAR(standard_daytime)</span><br><span class="line">        ,&#x27;年第&#x27;</span><br><span class="line">        ,CASE </span><br><span class="line">            WHEN MONTH(standard_daytime) &lt;= 3 THEN &#x27;1&#x27;</span><br><span class="line">            WHEN MONTH(standard_daytime) &lt;= 6 THEN &#x27;2&#x27;</span><br><span class="line">            WHEN MONTH(standard_daytime) &lt;= 9 THEN &#x27;3&#x27;</span><br><span class="line">            WHEN MONTH(standard_daytime) &lt;= 12 THEN &#x27;4&#x27;</span><br><span class="line">            ELSE NULL </span><br><span class="line">            END</span><br><span class="line">        ,&#x27;季度&#x27;</span><br><span class="line">    ) AS quarter_unit  --所在季度(xxx年第x季度)</span><br><span class="line">    ,CONCAT(YEAR(standard_daytime), &#x27;年&#x27;, LPAD(MONTH(standard_daytime), 2, 0), &#x27;月&#x27;) AS month_unit  --所在月份(xxxx年xx月)</span><br><span class="line">    ,CONCAT(</span><br><span class="line">        CASE </span><br><span class="line">            WHEN WEEKOFYEAR(standard_daytime) = 1 AND MONTH(standard_daytime) = 12 THEN YEAR(standard_daytime)+1</span><br><span class="line">            WHEN WEEKOFYEAR(standard_daytime) &gt; 50 AND MONTH(standard_daytime) = 1 THEN YEAR(standard_daytime)-1</span><br><span class="line">            ELSE YEAR(standard_daytime)  --跨年周处理</span><br><span class="line">            END</span><br><span class="line">        ,&#x27;年第&#x27;</span><br><span class="line">        ,LPAD(WEEKOFYEAR(standard_daytime), 2, 0)</span><br><span class="line">        ,&#x27;周&#x27;</span><br><span class="line">    ) AS week_unit  --所在周(xxxx年第xx周)</span><br><span class="line">    ,DATEDIFF(CONCAT(YEAR(standard_daytime), &#x27;-12-31&#x27;), CONCAT(YEAR(standard_daytime), &#x27;-01-01&#x27;)) + 1 AS days_in_a_year  --所在年总天数</span><br><span class="line">    ,CASE </span><br><span class="line">        WHEN MONTH(standard_daytime) &lt;= 3 THEN DATEDIFF(CONCAT(YEAR(standard_daytime), &#x27;-03-31&#x27;), CONCAT(YEAR(standard_daytime), &#x27;-01-01&#x27;)) + 1</span><br><span class="line">        WHEN MONTH(standard_daytime) &lt;= 6 THEN DATEDIFF(CONCAT(YEAR(standard_daytime), &#x27;-06-30&#x27;), CONCAT(YEAR(standard_daytime), &#x27;-04-01&#x27;)) + 1</span><br><span class="line">        WHEN MONTH(standard_daytime) &lt;= 9 THEN DATEDIFF(CONCAT(YEAR(standard_daytime), &#x27;-09-30&#x27;), CONCAT(YEAR(standard_daytime), &#x27;-07-01&#x27;)) + 1</span><br><span class="line">        WHEN MONTH(standard_daytime) &lt;= 12 THEN DATEDIFF(CONCAT(YEAR(standard_daytime), &#x27;-12-31&#x27;), CONCAT(YEAR(standard_daytime), &#x27;-10-01&#x27;)) + 1</span><br><span class="line">        ELSE 91</span><br><span class="line">        END </span><br><span class="line">    AS days_in_a_quarter  --所在季度总天数</span><br><span class="line">    ,DAY(LAST_DAY(standard_daytime)) AS days_in_a_month  --所在月总天数</span><br><span class="line">    ,7 AS days_in_a_week  --所在周总天数</span><br><span class="line">    ,DATEDIFF(standard_daytime, CONCAT(YEAR(standard_daytime), &#x27;-01-01&#x27;)) + 1 AS passed_days_in_year  --年累天数(包含当天)</span><br><span class="line">    ,CASE </span><br><span class="line">        WHEN MONTH(standard_daytime) &lt;= 3 THEN DATEDIFF(standard_daytime, CONCAT(YEAR(standard_daytime), &#x27;-01-01&#x27;)) + 1 </span><br><span class="line">        WHEN MONTH(standard_daytime) &lt;= 6 THEN DATEDIFF(standard_daytime, CONCAT(YEAR(standard_daytime), &#x27;-04-01&#x27;)) + 1 </span><br><span class="line">        WHEN MONTH(standard_daytime) &lt;= 9 THEN DATEDIFF(standard_daytime, CONCAT(YEAR(standard_daytime), &#x27;-07-01&#x27;)) + 1 </span><br><span class="line">        WHEN MONTH(standard_daytime) &lt;= 12 THEN DATEDIFF(standard_daytime, CONCAT(YEAR(standard_daytime), &#x27;-10-01&#x27;)) + 1 </span><br><span class="line">        ELSE 0</span><br><span class="line">        END </span><br><span class="line">    AS passed_days_in_quarter --季度累天数(包含当天)</span><br><span class="line">    ,DATEDIFF(standard_daytime, TRUNC(standard_daytime, &#x27;MM&#x27;)) +1 AS passed_days_in_month --月累天数(包含当天)</span><br><span class="line">    ,CASE PMOD(DATEDIFF(standard_daytime,&#x27;1970-01-05&#x27;) + 1, 7)</span><br><span class="line">        WHEN 0 THEN 7</span><br><span class="line">        ELSE  PMOD(DATEDIFF(standard_daytime,&#x27;1970-01-05&#x27;) + 1, 7)</span><br><span class="line">        END</span><br><span class="line">    AS passed_days_in_week  --周累天数(包含当天)</span><br><span class="line">    ,DATEDIFF(CONCAT(YEAR(standard_daytime), &#x27;-12-31&#x27;), standard_daytime) + 1 AS remaining_days_of_year  --到年末的天数(包含当天)</span><br><span class="line">    ,CASE </span><br><span class="line">        WHEN MONTH(standard_daytime) &lt;= 3 THEN DATEDIFF(CONCAT(YEAR(standard_daytime), &#x27;-03-31&#x27;), standard_daytime) + 1 </span><br><span class="line">        WHEN MONTH(standard_daytime) &lt;= 6 THEN DATEDIFF(CONCAT(YEAR(standard_daytime), &#x27;-06-30&#x27;), standard_daytime) + 1 </span><br><span class="line">        WHEN MONTH(standard_daytime) &lt;= 9 THEN DATEDIFF(CONCAT(YEAR(standard_daytime), &#x27;-09-30&#x27;), standard_daytime) + 1 </span><br><span class="line">        WHEN MONTH(standard_daytime) &lt;= 12 THEN DATEDIFF(CONCAT(YEAR(standard_daytime), &#x27;-12-31&#x27;), standard_daytime) + 1 </span><br><span class="line">        ELSE 0</span><br><span class="line">        END </span><br><span class="line">    AS passed_days_in_quarter --到季度末的天数(包含当天)</span><br><span class="line">    ,DATEDIFF(LAST_DAY(standard_daytime), standard_daytime) + 1 AS remaining_days_of_month  --到月末的天数(包含当天)</span><br><span class="line">    ,7 - CASE PMOD(DATEDIFF(standard_daytime,&#x27;1970-01-05&#x27;) + 1, 7)</span><br><span class="line">        WHEN 0 THEN 7</span><br><span class="line">        ELSE  PMOD(DATEDIFF(standard_daytime,&#x27;1970-01-05&#x27;) + 1, 7)</span><br><span class="line">        END + 1</span><br><span class="line">    AS remaining_days_of_week --到周末的天数(包含当天)</span><br><span class="line">    ,CASE PMOD(DATEDIFF(standard_daytime,&#x27;1970-01-05&#x27;) + 1, 7)</span><br><span class="line">        WHEN 0 THEN 7</span><br><span class="line">        ELSE  PMOD(DATEDIFF(standard_daytime,&#x27;1970-01-05&#x27;) + 1, 7)</span><br><span class="line">        END</span><br><span class="line">    AS day_of_week  --星期几</span><br><span class="line">    , IF(PMOD(DATEDIFF(standard_daytime,&#x27;1970-01-05&#x27;) + 1, 7) IN(0, 6), 1, 0) AS is_weekday --是否周末</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hackertaizi.gitee.io/Java/Java%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF/3.%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Taizi">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="太子的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 太子的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/Java/Java%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF/3.%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/" class="post-title-link" itemprop="url">3.对象和类</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-11-20 18:51:18" itemprop="dateCreated datePublished" datetime="2023-11-20T18:51:18+08:00">2023-11-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-05-10 19:18:36" itemprop="dateModified" datetime="2024-05-10T19:18:36+08:00">2024-05-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Java/Java%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">Java核心技术</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>8.2k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>15 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="3-对象和类"><a href="#3-对象和类" class="headerlink" title="3. 对象和类"></a>3. 对象和类</h1><h2 id="面向对象程序设计概述"><a href="#面向对象程序设计概述" class="headerlink" title="面向对象程序设计概述"></a>面向对象程序设计概述</h2><p>面向对象适合解决规模较大的问题，规模较小的问题可以分解为面向过程的程序化设计问题来解决。</p>
<h3 id="1-类"><a href="#1-类" class="headerlink" title="1. 类"></a>1. 类</h3><p>类是构造对象的模板或蓝图，由类构造对象的过程称为创建类的实例（即对象是类的示例）。</p>
<h3 id="2-类的部分特性："><a href="#2-类的部分特性：" class="headerlink" title="2. 类的部分特性："></a>2. 类的部分特性：</h3><ul>
<li>封装：将数据和行为组合在一个包中，并对对象的使用者隐藏具体的实现方式。对象中的数据称为<strong>实例字段</strong>，操作数据的过程称为<strong>方法</strong>，作为一个类的实例，特定对象都有一组特定的实例字段值，这些值的集合就是对象的当前<strong>状态</strong>。<br><strong>实现封装的关键在于：不能让类的方法直接访问其他类中的实例字段</strong>。</li>
<li>继承：<strong>可以通过扩展其他类来构建新类。</strong>Java中所有的类都扩展自Object类，拓展后的新类具有被扩展类的全部属性和方法，只需要在新类中提供适用于这个新类的新方法和新数据字段即可。</li>
</ul>
<h3 id="3-对象的主要特性："><a href="#3-对象的主要特性：" class="headerlink" title="3. 对象的主要特性："></a>3. 对象的主要特性：</h3><ul>
<li>对象的行为：可以对对象完成哪些操作？或者可以对对象应用哪些方法？<br>用对象的可调用方法来定义。</li>
<li>对象的状态：当调用那些方法时，对象会如何响应？<br>对象保存着描述当前状况的信息，这就是对象的状态。</li>
<li>对象的标识：如何区分具有相同行为与状态的不同对象？</li>
</ul>
<h3 id="4-常见的类之间的关系"><a href="#4-常见的类之间的关系" class="headerlink" title="4. 常见的类之间的关系"></a>4. 常见的类之间的关系</h3><ul>
<li>依赖（“uses-a”）关系：<br>类的依赖关系是指一个类的实现要依赖于其他类的实现，即如果一个类的方法使用或者操纵另一个类的对象，就说一个类依赖于另一个类。<br><strong>应该尽可能地将相互依赖的类减至最少，也就是减少类之间的耦合。</strong></li>
<li>聚合（“has-a”）关系：<br>类的聚合关系是指一个类包含另一个类的对象作为其成员变量，这个成员变量可以被多个方法使用，但是这个成员变量的生命周期不受包含它的类的生命周期的影响。</li>
<li>继承（“is-a”）关系：<br>一个类继承另一个类。</li>
</ul>
<h2 id="使用预定义类"><a href="#使用预定义类" class="headerlink" title="使用预定义类"></a>使用预定义类</h2><h3 id="1-Java中的预定义类"><a href="#1-Java中的预定义类" class="headerlink" title="1. Java中的预定义类"></a>1. Java中的预定义类</h3><p>Java的JDK中封装了很多基础的类，可以直接调用</p>
<h3 id="2-构造对象"><a href="#2-构造对象" class="headerlink" title="2. 构造对象"></a>2. 构造对象</h3><p>使用对象的前提，是要先构造对象，然后指定其初始状态。完成这一操作的是<strong>构造器</strong>（或叫构造函数），即构造器主要用来构造并初始化对象。<br>构造器的名字应该与类名相同，构造一个对象，需要在构造器前面加上<code>new</code>操作符, 例如:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span>();</span><br></pre></td></tr></table></figure>

<p>如果希望构造的对象可以多次使用，可以将对象存放在一个变量中：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Date</span> <span class="variable">birthday</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br></pre></td></tr></table></figure>

<p><strong>对象和对象变量之间存在的重要的区别</strong>，例如以下语句：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Date deadline;</span><br></pre></td></tr></table></figure>

<p>定义了一个对象变量deadline，它可以引用Date类型的对象。但是，deadline本身不是一个对象，而且它也没有引用任何对象，所以还不能在这个变量使用任何Date方法。<br>要想使用对象变量deadline，必须初始化该变量，有两种初始化方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">deadline = <span class="keyword">new</span> <span class="title class_">Date</span>(); <span class="comment">// 引用一个新构造的对象</span></span><br><span class="line">deadline = birthday; <span class="comment">// 引用一个已有的对象，此时这两个变量都引用同一个对象</span></span><br></pre></td></tr></table></figure>

<p><strong>要认识到：对象变量并没有包含一个对象，它只是引用一个对象</strong>。<strong>在Java中，任何对象变量的值都是对存储在另外一个地方的某个对象的引用。new操作符的返回值也是一个引用。</strong><br>下列语句：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Date</span> <span class="variable">deadline</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br></pre></td></tr></table></figure>

<p>有两个部分，new Date()构造了一个Date类型的对象，它的值是对新创建对象的一个引用。这个引用存储在对象变量deadline中。</p>
<p>可以显式地将对象变量设置为null，表示这个对象变量目前没有引用任何对象：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Date</span> <span class="variable">deadline</span> <span class="operator">=</span> <span class="literal">null</span>; <span class="comment">//显式表达</span></span><br><span class="line">Date deadline; <span class="comment">// 隐式表达</span></span><br></pre></td></tr></table></figure>

<h3 id="3-更改器方法和访问器方法"><a href="#3-更改器方法和访问器方法" class="headerlink" title="3. 更改器方法和访问器方法"></a>3. 更改器方法和访问器方法</h3><p>只访问对象而不修改对象的方法称为<strong>访问器方法</strong>，修改对象状态的方法称为<strong>更改器方法</strong>。</p>
<p>访问器方法举例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">LocalDate</span> <span class="variable">aThousandDaysLater</span> <span class="operator">=</span> newYearsEve.plusDays(<span class="number">1000</span>); <span class="comment">// plusDays方法会生成一个新对象，然后把新对象赋给aThousandDaysLater，原来的对象newYearsEve不作任何改动</span></span><br><span class="line"><span class="type">String</span> <span class="variable">stra</span> <span class="operator">=</span> <span class="string">&quot;aaa&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">strb</span> <span class="operator">=</span> stra.toUpperCase(); <span class="comment">// toUpperCase方法会生成一个新对象，然后赋给strb，原来的字符串对象stra不作任何改变。</span></span><br></pre></td></tr></table></figure>

<p>更改器方法举例：</p>
<p>例如实体类中的setter方法，调用后会改变对象的状态，这种方法都是更改器方法。</p>
<h2 id="用户自定义类"><a href="#用户自定义类" class="headerlink" title="用户自定义类"></a>用户自定义类</h2><h3 id="1-使用单个源文件："><a href="#1-使用单个源文件：" class="headerlink" title="1. 使用单个源文件："></a>1. 使用单个源文件：</h3><p>在源文件中，只能有一个公共类（public修饰），可以有任意数目的非公共类。</p>
<h3 id="2-使用多个源文件："><a href="#2-使用多个源文件：" class="headerlink" title="2. 使用多个源文件："></a>2. 使用多个源文件：</h3><p>也可以将多个类放在多个原文件中，例如有Employee和EmployeeTest两个类，<strong>其中EmployeeTest类对象中使用到了Employee类的对象</strong>，分别存放在Employee.java和EmployeeTest.java两个源文件中，这时可以有两种编译源程序的方法：一种是使用通配符调用Java编译器：<code>javac Employee*.java</code>.这时所有与通配符匹配的源文件都将编译成类文件。或者可以使用一下命令：<code>javac EmployeeTest.java</code> 这种方式并没有显式地编译Employee.java.但是当编译器发现EmployeeTest.java中使用到了Employee类时，他会查找名为Employee.class的类文件，如果没有找到就查找Employee.java源文件并对其进行编译。更重要的是，如果Employee.java的版本较已有的Employee.class文件版本更新，Java编译器就会自动地重新编译这个文件。</p>
<h3 id="3-关于public、private："><a href="#3-关于public、private：" class="headerlink" title="3. 关于public、private："></a>3. 关于public、private：</h3><ul>
<li>public：关键字public意味着任何类的任何方法都可以调用</li>
<li>private：关键字private确保了只有类自身的方法可以调用，而其他类不能调用</li>
</ul>
<h3 id="4-关于构造器："><a href="#4-关于构造器：" class="headerlink" title="4. 关于构造器："></a>4. 关于构造器：</h3><ul>
<li>构造器与类同名</li>
<li>每个类可以有一个以上的构造器</li>
<li>构造器可以有0个、1个或多个参数</li>
<li>构造器没有返回值</li>
<li>构造器总是伴随着new操作符一起使用</li>
</ul>
<p><strong>注意不要在构造器内定义与实例字段同名的局部变量，否则这些变量会屏蔽同名的实例字段。</strong></p>
<h3 id="5-使用var声明局部变量："><a href="#5-使用var声明局部变量：" class="headerlink" title="5. 使用var声明局部变量："></a>5. 使用var声明局部变量：</h3><p>在Java10中，如果可以从变量的初始值推导出他们的类型，那么可以用var关键字声明局部变量，而无需指定类型。例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">var</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello, World!&quot;</span>; <span class="comment">// 推断str的类型为String</span></span><br><span class="line"><span class="type">var</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">10</span>; <span class="comment">// 推断num的类型为int</span></span><br><span class="line"><span class="type">var</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;(); <span class="comment">// 推断list的类型为ArrayList&lt;String&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>注意var关键字只能用于方法中的局部变量。参数和字段的类型必须声明。</strong></p>
<h3 id="6-使用null引用："><a href="#6-使用null引用：" class="headerlink" title="6. 使用null引用："></a>6. 使用null引用：</h3><p>当对象变量为null时，如果对该对象变量调用方法，会产生空指针异常。为了避免这种情况，可以将null参数转化为一个适当的非null值。</p>
<h3 id="7-显式参数与隐式参数："><a href="#7-显式参数与隐式参数：" class="headerlink" title="7. 显式参数与隐式参数："></a>7. 显式参数与隐式参数：</h3><ul>
<li><p>显式参数：位于方法名后面括号中的参数就是显式参数</p>
</li>
<li><p>隐式参数：隐式参数是指在方法调用时自动传递给方法的参数，不需要在方法调用中显式地指定。通常用关键字this指示隐式参数。一般的getter方法中就有隐式参数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name; <span class="comment">//name就是一个隐式参数</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="8-封装的优点"><a href="#8-封装的优点" class="headerlink" title="8. 封装的优点:"></a>8. 封装的优点:</h3><p>一般地，如果想要获取或设置一个对象中的实例字段的值，可以在类定义时提供以下内容：</p>
<ul>
<li>一个私有的数据字段</li>
<li>一个公有的字段访问器方法（如getter方法）</li>
<li>一个公有的字段更改器方法（如setter方法）</li>
</ul>
<p>相对于将字段直接设置为公有字段，这种方式有以下好处：</p>
<ul>
<li>改变内部实现时除了该类的方法外，不会影响其他代码</li>
<li>更改器方法可以完成（进行）错误检查</li>
</ul>
<h3 id="9-基于类的访问权限："><a href="#9-基于类的访问权限：" class="headerlink" title="9. 基于类的访问权限："></a>9. 基于类的访问权限：</h3><p><strong>一个方法可以访问所属类的所有对象的私有数据。</strong></p>
<h3 id="10-私有方法"><a href="#10-私有方法" class="headerlink" title="10. 私有方法"></a>10. 私有方法</h3><p>特殊情况下，方法可以设置成私有的。例如可能希望将一个计算代码分解成若干个独立的辅助方法，这些辅助方法不应该成为公共接口的一部分，这时最好将这些辅助的方法设置为私有。</p>
<h3 id="11-final实例字段"><a href="#11-final实例字段" class="headerlink" title="11. final实例字段"></a>11. final实例字段</h3><p>定义为final的实例字段必须在构造对象时初始化，必须确保在每个构造器执行之后，这个字段的值已经设置，并且之后不能再修改这个字段。</p>
<p>final修饰符对于基本类型和不可变类（类中的所有方法都不会改变对象，也就是没有更改器方法，例如String类）的字段尤其有用。</p>
<p>对于可变的类，使用final修饰符可能会造成混乱，例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> StringBuilder evaluations;</span><br><span class="line">evaluations = <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line"><span class="comment">// final 关键字只是表示存储在evaluations变量中的对象引用不会再指示另一个不同的StringBuilder对象，但这个对象仍然是可以修改的</span></span><br><span class="line">evaluations.append(<span class="string">&quot;Hello&quot;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="静态字段与静态方法"><a href="#静态字段与静态方法" class="headerlink" title="静态字段与静态方法"></a>静态字段与静态方法</h2><h3 id="1-静态字段"><a href="#1-静态字段" class="headerlink" title="1. 静态字段"></a>1. 静态字段</h3><p>可以使用<code>static</code>修饰符将字段指定为静态的。静态字段属于类而不属于任何的单个对象。而对于非静态的实例字段，每个对象都有自己的一个副本。</p>
<h3 id="2-静态常量"><a href="#2-静态常量" class="headerlink" title="2. 静态常量"></a>2. 静态常量</h3><p>可以同时使用<code>static</code>和<code>final</code>修饰符来定义一个<strong>静态常量</strong>，这表示该量既是不可修改的，也是直接属于类的。例如，Math中有静态常量：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Math</span>&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">double</span> <span class="variable">PI</span> <span class="operator">=</span> <span class="number">3.14159265358979323846</span>;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在程序中，可以使用Math.PI来访问这个静态常量。经常使用的System.out也是一个静态常量。</p>
<h3 id="3-静态方法"><a href="#3-静态方法" class="headerlink" title="3. 静态方法"></a>3. 静态方法</h3><p>静态方法是不在对象上执行的方法（直接通过类执行），例如，Math.pow(x,a)会计算x的a次幂。在完成运算时，它不是用任何Math类的对象，换句话说，它没有隐式参数。</p>
<p>以下两种情况可以使用静态方法：</p>
<ul>
<li><p>方法不需要访问对象的状态，它需要的所有参数都通过显示参数提供（例如Math.pow)</p>
</li>
<li><p>方法只需要访问类的静态字段。</p>
</li>
<li><h5 id="工厂方法"><a href="#工厂方法" class="headerlink" title="工厂方法"></a>工厂方法</h5><p>静态方法还有另外一种常见的用途。类似LocalDate和NumberFormat的类使用静态工厂方法来构造对象。例如有工厂方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">LocalDate.now()</span><br><span class="line">LocalDate.of()</span><br><span class="line">NumberFormat.getCurrencyInstance()</span><br><span class="line">NumberFormat.getPercentInstance()</span><br></pre></td></tr></table></figure>

<p>不使用构造器的方式主要有两个原因：</p>
<ol>
<li>无法命名构造器：因为构造器名称必须与类名相同，但这里希望有两个不同的名字。</li>
<li>使用构造器时，无法改变所构造的对象的类型。而上面的NumberFormat的工厂方法，实际上返回的是DeciamlFormat类的对象，这是NumberFormat类的一个子类。</li>
</ol>
</li>
<li><h5 id="main方法"><a href="#main方法" class="headerlink" title="main方法"></a>main方法</h5><p>main方法也是一个静态方法，它不对任何对象进行操作。事实上，在程序启动时还没有任何对象，静态的main方法将执行并构造程序所需要的对象。</p>
</li>
</ul>
<h2 id="方法参数"><a href="#方法参数" class="headerlink" title="方法参数"></a>方法参数</h2><p>回顾一下如何将参数传递给方法：</p>
<blockquote>
<p><strong>按值调用</strong>表示方法接收的是调用者提供的值；而<strong>按引用调用</strong>表示方法接收的是调用者提供的变量地址。</p>
<p>方法可以修改按引用传递的变量的值，而不能修改按值传递的变量的值。</p>
</blockquote>
<p><strong>Java程序设计语言总是采用按值调用，也就是说，方法得到的是所有参数值的一个副本，方法不能修改传递给它的任何参数变量的内容。</strong></p>
<p>方法能够接受的参数：</p>
<ul>
<li>基本数据类型(数字、布尔值)</li>
<li>对象引用</li>
</ul>
<p>Java中对方法参数能做什么和不能做什么：</p>
<ul>
<li><strong>方法不能修改基本类型的参数（即数值型或布尔型）</strong></li>
<li><strong>方法可以改变对象参数的状态</strong><br>解释：方法得到一个对象的引用A后会创建一个对象的副本，也就是一个对象的引用B。这里A和B引用的是同一个对象，所以在方法中，通过B调用对象的方法改变对象的状态，对于A也会产生影响。</li>
<li><strong>方法不能让一个对象参数引用一个新的对象</strong><br>解释：对象引用传入方法后，方法会创建一个该对象引用的副本，该副本引用一个新对象，在方法结束后副本就被销毁，原对象引用不变。</li>
</ul>
<h2 id="对象构造"><a href="#对象构造" class="headerlink" title="对象构造"></a><strong>对象构造</strong></h2><h3 id="1-重载"><a href="#1-重载" class="headerlink" title="1. 重载"></a>1. 重载</h3><p><strong>定义</strong></p>
<p>在同一个类中可以定义多个同名但参数列表不同的方法，这就是类的重载。在调用这些重载方法时，编译器会根据参数类型和参数数量来确定调用哪个方法，如果匹配不到合适的方法，就会抛出一个异常。（这个查找匹配的过程称为重载解析）</p>
<p><strong>方法的签名</strong></p>
<p>如果要完整地描述一个方法，需要指定方法名和参数类型，这叫做方法的签名。返回类型不是方法签名的一部分，所以不能存在两个方法名和参数类型都相同，而返回类型不同的方法。</p>
<h3 id="2-默认字段的初始化"><a href="#2-默认字段的初始化" class="headerlink" title="2. 默认字段的初始化"></a>2. 默认字段的初始化</h3><p>方法中的局部变量必须<strong>明确地</strong>初始化，但是在类中，如果没有初始化示例字段，那么实例字段将被初始化为默认值，具体默认值如下：</p>
<ul>
<li>数值型：0</li>
<li>布尔型：false</li>
<li>对象引用：null</li>
</ul>
<h3 id="3-无参数的构造器"><a href="#3-无参数的构造器" class="headerlink" title="3. 无参数的构造器"></a>3. 无参数的构造器</h3><p>很多类都会包含一个无参数的构造器，由无参数的构造器构造对象时，可以将对象的状态设置为合适的默认值。</p>
<p>如果编写一个类时没有编写构造器(没有任何构造器)，则Java会提供一个无参数的构造器，这个构造器会将所有的实例字段设置为默认值。</p>
<p>如果类中至少提供了一个构造器，但是没有提供无参构造器，那么构造对象时如果不提供将是不合法的。</p>
<h3 id="4-显式字段初始化"><a href="#4-显式字段初始化" class="headerlink" title="4. 显式字段初始化"></a>4. 显式字段初始化</h3><p>可以在类定义中直接为任何字段赋值，例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以在构造器执行之前先完成这个赋值操作。如果一个类的所有构造器都希望把某个特定的实例字段设置为同一个值，这个语法就特别有用。</p>
<p>初始值不一定是常量值，也可以用类中的方法对实例字段进行初始化。</p>
<blockquote>
<p>注意：在C++中不能直接初始化实例字段，必须在构造器中设置实例字段的初始值。</p>
</blockquote>
<h3 id="5-参数名"><a href="#5-参数名" class="headerlink" title="5. 参数名"></a>5. 参数名</h3><p>编写构造器时，常常在参数命名时感到困惑。</p>
<p>通常，我们可以使用单个字母作为参数名，缺点是参数含义不易懂</p>
<p>也有一种习惯，在每个参数名前面加上一个字母“a”,含义也比较清晰：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String aName, <span class="type">double</span> aSalary)</span>&#123;</span><br><span class="line">    name = aName;</span><br><span class="line">    salary = aSalary;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>还有一种常用的技巧，基于这样的事实：<strong>参数变量会遮蔽同名的实例字段</strong>。例如，如果将参数名指定为salary，salary将指示这个参数，而不是实例字段，但此时，在方法内可以使用<code>this.salary</code>来访问实例字段（关键字this指示一个方法的隐式参数）：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String name, <span class="type">double</span> salary)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">    <span class="built_in">this</span>.salary = salary;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-调用另一个构造器"><a href="#6-调用另一个构造器" class="headerlink" title="6. 调用另一个构造器"></a>6. 调用另一个构造器</h3><p>如果<strong>构造器的第一个语句</strong>形如<code>this(...)</code>，这个构造器将调用同一个类的另一个构造器，例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(<span class="type">double</span> s)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>(<span class="string">&quot;Employee #&quot;</span>+nextId, s);</span><br><span class="line">    nextId++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>采用这个这种方式使用this关键字时非常有用，这样对公共的构造器代码只需要编写一次即可。</p>
<h3 id="7-初始化块"><a href="#7-初始化块" class="headerlink" title="7. 初始化块"></a>7. 初始化块</h3><p>前面提到了两种初始化数据字段的方法：</p>
<ul>
<li>在构造器中设置值</li>
<li>在声明中赋值</li>
</ul>
<p>Java还有一种称为初始化块的机制，在一个类的声明中，可以包含任意多个代码块，只要构造这个类的对象，这些代码块就会被执行：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> nextId;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> salary;</span><br><span class="line">    <span class="comment">//初始化块</span></span><br><span class="line">    &#123;</span><br><span class="line">        id = nextId;</span><br><span class="line">        nextId++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String n, <span class="type">double</span> s)</span>&#123;</span><br><span class="line">        name = n;</span><br><span class="line">        salaray = s;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">()</span>&#123;</span><br><span class="line">        name = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        salary = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这个例子中，无论使用哪个构造器构造对象，初始化块中的代码都会被首先执行，然后才运行构造器的主体部分。</p>
<p>可以在初始化块中设置字段，及时字段在类的后面才定义，但建议初始化块放在字段定义之后。</p>
<p>下面给出调用构造器的具体处理步骤：</p>
<ol>
<li><p>如果构造器的第一行调用了另一个构造器，则基于所提供的参数执行第二个构造器</p>
</li>
<li><p>否则，</p>
<p>a. 所有数据字段初始化为其默认值（0、false或null）</p>
<p>b. 按照在类声明中出现的顺序，执行所有字段的初始化方法和初始化块。</p>
</li>
<li><p>执行构造器主体代码</p>
</li>
</ol>
<p>静态字段的初始化</p>
<ul>
<li><p>通过提供一个初始值：前面已经介绍过：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">nextId</span> <span class="operator">=</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果类的静态字段需要很复杂的初始化代码，可以使用静态的初始化块：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">var</span> <span class="variable">generator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">    nextId = generator.nextInt(<span class="number">10000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>在类第一次加载的时候，将会进行静态字段的初始化。和实例字段一样，除非将静态字段显式地设置为其他值，否则默认的初始值是0、false或null。所有静态字段的初始化方法以及静态初始化块都将依照类声明中出现的顺序执行。</p>
<h3 id="8-对象析构与finalize方法"><a href="#8-对象析构与finalize方法" class="headerlink" title="8. 对象析构与finalize方法"></a>8. 对象析构与finalize方法</h3><p>有些面向对象的语言，特别是C++，有显式的析构器方法，其中放置一些当对象不再使用时需要执行的清理代码。在析构器中，最常见的操作是回收分配给对象的存储空间。Java会自动完成垃圾回收，不需要人工回收内存，所以java不支持析构器。</p>
<p>当然，某些对象使用了内存之外的其他资源，例如，文件或使用了系统资源的另一个对象的句柄，在这种情况下，当资源不再需要时，将其回收和再利用显得十分重要。</p>
<p>如果一个资源一旦使用完就需要立即关闭，应当提供一个必要的close()方法来完成必要的清理工作。可以在对象使用完时调用这个closer方法。</p>
<p>不要使用finalize方法来完成清理，改方法原本要在垃圾回收前调用，改方法已经被废弃。</p>
<h2 id="包"><a href="#包" class="headerlink" title="包"></a>包</h2><p>Java允许使用包来将类组织在一个集合中，使用包的主要原因是确保类名的唯一性。</p>
<h3 id="1-包名"><a href="#1-包名" class="headerlink" title="1. 包名"></a>1. 包名</h3><p>为了保证报名的绝对唯一性，要用一个因特网域名（显然这是唯一的）以逆序的方式作为包名，然后对于不同的工程使用不同的子包。例如，考虑域名zky.com。如果逆序来写，就得到了包名com.zky，然后可以追加一个工程名，例如com.zky.java。如果把类Learn放在这个包里，那么这个类的完全限定名就是<code>com.zky.java.Learn</code>。</p>
<p>从编译器的角度来看，嵌套的包之间没有任何关系。例如java.util包和java.util.jar包就没有任何关系。每一个包都是独立的类集合。</p>
<h3 id="2-类的导入"><a href="#2-类的导入" class="headerlink" title="2. 类的导入"></a>2. 类的导入</h3><p>一个类可以使用所属包中的所有类，以及其他包中的公共类。</p>
<p>可以使用两种方式访问另一个包中的公共类：</p>
<ol>
<li><p>使用完全限定名，就是包名后面跟着类名，例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java.time.<span class="type">LocalDate</span> <span class="variable">today</span> <span class="operator">=</span> java.time.LocalDate.now();</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用import语句，导入一个特定的类或者整个包：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;   <span class="comment">//导入java.util包中的所有类</span></span><br></pre></td></tr></table></figure>

<p>也可以导入一个包中的特定类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.time.LocalDate;</span><br></pre></td></tr></table></figure>

<p>需要注意，只能使用星号（*）导入一个包，而不能使用 import java . *或 import.java. *. *导入以java为前缀的所有包。</p>
</li>
</ol>
<p>在发生命名冲突时，例如使用了导入语句：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br></pre></td></tr></table></figure>

<p>这两个包中都有Date类，在程序使用Date类的时候，会产生错误，因为编译器无法确定你想使用的是哪一个类。</p>
<p>可以增加一个特定的import 语句来解决这个问题：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;  <span class="comment">//表示想使用的是java.util包中的Date类</span></span><br></pre></td></tr></table></figure>

<p>如果这两个类都想使用，那么就需要使用时在每个类前面加上完整的包名：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">var</span> <span class="variable">deadline</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">java</span>.util.Date();</span><br><span class="line"><span class="type">var</span> <span class="variable">today</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">java</span>.sql.Date(...);</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hackertaizi.gitee.io/%E5%85%B6%E4%BB%96/TreeMap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Taizi">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="太子的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 太子的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/%E5%85%B6%E4%BB%96/TreeMap/" class="post-title-link" itemprop="url">TreeMap</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-11-06 08:57:34" itemprop="dateCreated datePublished" datetime="2023-11-06T08:57:34+08:00">2023-11-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-11-13 09:17:31" itemprop="dateModified" datetime="2023-11-13T09:17:31+08:00">2023-11-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%85%B6%E4%BB%96/" itemprop="url" rel="index"><span itemprop="name">其他</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.8k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>5 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="TreeMap"><a href="#TreeMap" class="headerlink" title="TreeMap"></a>TreeMap</h1><h2 id="1-概述"><a href="#1-概述" class="headerlink" title="1. 概述"></a>1. 概述</h2><p>TreeMap是map家族的一员，用来存放key-value键值对。</p>
<h2 id="2-特点"><a href="#2-特点" class="headerlink" title="2. 特点"></a>2. 特点</h2><ul>
<li>有序性：<br>TreeMap中的键值对是按照键的自然顺序或自定义顺序排列，key不可以为null，可以快速地进行插入、查找、删除等操作。</li>
<li>元素唯一性：<br>TreeMap中的键是唯一的，不允许出现相同的键。如果在TreeMap中插入一个已经存在的键，则新的值会覆盖原有的值。</li>
<li>可排序性：<br>由于TreeMap是有序的，因此它提供了多种按照键排序的方法，例如自然排序和自定义排序。</li>
<li>线程不安全：<br>TreeMap是线程不安全的，如果要在多线程环境下使用，需要进行同步处理。</li>
<li>性能优异：<br>TreeMap的基本操作时间复杂度为O(log n), 具有良好的性能表现，适合处理大量的键值对。</li>
<li>内存占用较高：<br>TreeMap底层使用的红黑树结构决定了它的内存占用较高，要略高于HashMap。</li>
</ul>
<h2 id="3-应用场景"><a href="#3-应用场景" class="headerlink" title="3. 应用场景"></a>3. 应用场景</h2><p>基于以上特点描述，在需要对数据进行<strong>排序</strong>或者<strong>快速查找</strong>的场景下，可以考虑使用TreeMap。</p>
<h2 id="4-使用"><a href="#4-使用" class="headerlink" title="4. 使用"></a>4. 使用</h2><ul>
<li><p>自然排序(针对数字和字符串，按数字自然顺序或字符串的字符顺序排序)：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  </span><br><span class="line">        <span class="comment">// 创建一个TreeMap实例  </span></span><br><span class="line">        TreeMap&lt;Integer, String&gt; treeMap = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// 添加一些元素  </span></span><br><span class="line">        treeMap.put(<span class="number">3</span>, <span class="string">&quot;Three&quot;</span>);  </span><br><span class="line">        treeMap.put(<span class="number">2</span>, <span class="string">&quot;Two&quot;</span>);  </span><br><span class="line">        treeMap.put(<span class="number">1</span>, <span class="string">&quot;One&quot;</span>);  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// 输出TreeMap，将按键的自然顺序排序  </span></span><br><span class="line">        System.out.println(<span class="string">&quot;TreeMap: &quot;</span> + treeMap);  <span class="comment">// TreeMap: &#123;1=One, 2=Two, 3=Three&#125;</span></span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>定制排序：<br>通过构造函数指定排序的Comparator可以实现定制化排序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;  </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;  </span><br><span class="line">        Comparator&lt;String&gt; comparator = <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;String&gt;() &#123;  </span><br><span class="line">            <span class="meta">@Override</span>  </span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(String o1, String o2)</span> &#123;  </span><br><span class="line">                <span class="keyword">return</span> o2.compareTo(o1);  <span class="comment">// 降序排序  </span></span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;;  </span><br><span class="line">        TreeMap&lt;String, String&gt; treeMap = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;(comparator);  </span><br><span class="line">        treeMap.put(<span class="string">&quot;b&quot;</span>, <span class="string">&quot;B&quot;</span>);  </span><br><span class="line">        treeMap.put(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;A&quot;</span>);  </span><br><span class="line">        treeMap.put(<span class="string">&quot;c&quot;</span>, <span class="string">&quot;C&quot;</span>);  </span><br><span class="line">        System.out.println(treeMap);  <span class="comment">// 输出: &#123;c=C, b=B, a=A&#125;  </span></span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="5-实现原理"><a href="#5-实现原理" class="headerlink" title="5. 实现原理"></a>5. 实现原理</h2><p>TreeMap底层是基于红黑树实现的，红黑树是一棵自平衡的二叉排序树。</p>
<p>从二叉树说起：</p>
<ul>
<li><p>二叉树：<br>每个节点最多有两个子树的树形结构。<br><img src="/%E5%85%B6%E4%BB%96/TreeMap/image-20231105203739536.png" alt="image-20231105203739536"></p>
</li>
<li><p>平衡二叉树：<br>平衡二叉树或者是一棵空树，或者是具有以下性质的二叉树：它的左子树和右子树都是平衡二叉树，且左子树和右子树的高度差的绝对值不超过1。<br><img src="/%E5%85%B6%E4%BB%96/TreeMap/image-20231105204215000.png" alt="image-20231105204215000"></p>
</li>
<li><p>平衡二叉排序树：<br>在平衡二叉树的基础上，如果左子树非空，则左子树上所有节点的值均小于根节点的值，如果右子树非空，则右子树上的所有节点的值均大于根节点的值。这样的树就是平衡二叉排序树。<br><img src="/%E5%85%B6%E4%BB%96/TreeMap/image-20231105205415958.png" alt="image-20231105205415958"></p>
</li>
</ul>
<h3 id="红黑树："><a href="#红黑树：" class="headerlink" title="红黑树："></a>红黑树：</h3><p>平衡二叉排序树，在需要增加和删除节点的时候，为了保持平衡需要做大量的旋转操作，红黑树可以解决该问题。</p>
<h4 id="红黑树的性质"><a href="#红黑树的性质" class="headerlink" title="红黑树的性质"></a>红黑树的性质</h4><p>在平衡二叉排序树的基础上：</p>
<p>  ①每个节点只能是黑色或红色</p>
<p>  ②根节点是黑色</p>
<p>  ③每个叶子节点（指空节点NIL）都是黑色的</p>
<p>  ④红色节点的子节点必须是黑色，即一条路径上不能出现两个相邻的红色节点。。</p>
<p>  ⑤从任一节点到其每个叶子的所有路径都包含相同数目的黑色节点。</p>
<p>  这样的树就是红黑树。<br>  <img src="/%E5%85%B6%E4%BB%96/TreeMap/image-20231105210154658.png" alt="image-20231105210154658"></p>
<p>红黑树的插入效率很高，插入一个元素的时候只需要进行最多三次旋转。</p>
<h4 id="红黑树的平衡维护-左旋、右旋、变色"><a href="#红黑树的平衡维护-左旋、右旋、变色" class="headerlink" title="红黑树的平衡维护(左旋、右旋、变色)"></a>红黑树的平衡维护(左旋、右旋、变色)</h4><h5 id="左旋和右旋："><a href="#左旋和右旋：" class="headerlink" title="左旋和右旋："></a>左旋和右旋：</h5><p>旋转操作是为了维持二叉树的平衡性，节点的左旋是指将根节点的右侧往左拉，原先的右子节点变成新的父节点，并把多余的左子节点出让，给已经降级的根节点当右子节点：</p>
<p><img src="/%E5%85%B6%E4%BB%96/TreeMap/image-20231105210640691.png" alt="image-20231105210640691"></p>
<p>相反地，右旋则是将根节点的左侧往右拉，原先的左子节点变成新的父节点，并把多余的右子节点出让，给已经将降级的根节点当右子节点：</p>
<p><img src="/%E5%85%B6%E4%BB%96/TreeMap/image-20231105210651111.png" alt="image-20231105210651111"></p>
<h5 id="红黑树节点的插入、删除："><a href="#红黑树节点的插入、删除：" class="headerlink" title="红黑树节点的插入、删除："></a>红黑树节点的插入、删除：</h5><p>红黑树详解：<a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000012728513">https://segmentfault.com/a/1190000012728513</a></p>
<h2 id="TreeMap源码解析："><a href="#TreeMap源码解析：" class="headerlink" title="TreeMap源码解析："></a>TreeMap源码解析：</h2><ul>
<li><p>左旋：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 对节点p进行左旋</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">rotateLeft</span><span class="params">(Entry&lt;K,V&gt; p)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (p != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// r是p的右子树</span></span><br><span class="line">            Entry&lt;K,V&gt; r = p.right;</span><br><span class="line">            <span class="comment">// r的左子树成为p的右子树</span></span><br><span class="line">            p.right = r.left;</span><br><span class="line">            <span class="keyword">if</span> (r.left != <span class="literal">null</span>)</span><br><span class="line">                r.left.parent = p;</span><br><span class="line">            <span class="comment">// 使r成为根节点</span></span><br><span class="line">            r.parent = p.parent;</span><br><span class="line">            <span class="keyword">if</span> (p.parent == <span class="literal">null</span>)</span><br><span class="line">                root = r;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (p.parent.left == p)</span><br><span class="line">                p.parent.left = r;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                p.parent.right = r;</span><br><span class="line">            <span class="comment">// 使p成为r的左子树</span></span><br><span class="line">            r.left = p;</span><br><span class="line">            p.parent = r;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><img src="/%E5%85%B6%E4%BB%96/TreeMap/image-20231112213452258.png" alt="image-20231112213452258"></p>
</li>
<li><p>右旋：右旋的操作与左旋相反</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">rotateRight</span><span class="params">(Entry&lt;K,V&gt; p)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (p != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// l是p的左子树</span></span><br><span class="line">            Entry&lt;K,V&gt; l = p.left;</span><br><span class="line">            <span class="comment">// l的右子树成为p的左子树</span></span><br><span class="line">            p.left = l.right;</span><br><span class="line">            <span class="keyword">if</span> (l.right != <span class="literal">null</span>) l.right.parent = p;</span><br><span class="line">            <span class="comment">// 使l成为根节点</span></span><br><span class="line">            l.parent = p.parent;</span><br><span class="line">            <span class="keyword">if</span> (p.parent == <span class="literal">null</span>)</span><br><span class="line">                root = l;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (p.parent.right == p)</span><br><span class="line">                p.parent.right = l;</span><br><span class="line">            <span class="keyword">else</span> p.parent.left = l;</span><br><span class="line">            <span class="comment">// 使p成为l的右子树</span></span><br><span class="line">            l.right = p;</span><br><span class="line">            p.parent = l;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>关于TreeMap插入、删除节点时的分析，可以<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_46761894/article/details/127330170">查看文章</a></p>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hackertaizi.gitee.io/%E5%85%B6%E4%BB%96/%E7%BB%93%E6%9E%84%E6%80%A7%E6%80%9D%E7%BB%B4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Taizi">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="太子的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 太子的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/%E5%85%B6%E4%BB%96/%E7%BB%93%E6%9E%84%E6%80%A7%E6%80%9D%E7%BB%B4/" class="post-title-link" itemprop="url">结构性思维</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-10-21 10:18:48" itemprop="dateCreated datePublished" datetime="2023-10-21T10:18:48+08:00">2023-10-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-11-06 08:58:18" itemprop="dateModified" datetime="2023-11-06T08:58:18+08:00">2023-11-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%85%B6%E4%BB%96/" itemprop="url" rel="index"><span itemprop="name">其他</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.4k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="结构性思维"><a href="#结构性思维" class="headerlink" title="结构性思维"></a>结构性思维</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">核心总结：</span><br><span class="line">	图像化：构思图</span><br><span class="line">	核心要点：</span><br><span class="line">		结论先行：说话做事以目标为导向，注意使用场景。</span><br><span class="line">		上下先行：注意因果逻辑。</span><br></pre></td></tr></table></figure>

<h2 id="要点"><a href="#要点" class="headerlink" title="要点"></a>要点</h2><table>
<thead>
<tr>
<th>核心点</th>
<th>定义</th>
<th>内容</th>
<th>应用</th>
</tr>
</thead>
<tbody><tr>
<td>构思图</td>
<td><img src="/%E5%85%B6%E4%BB%96/%E7%BB%93%E6%9E%84%E6%80%A7%E6%80%9D%E7%BB%B4/blogfile-master\source_posts\其他\结构性思维\image-20231021.png"></td>
<td>结构性思维的图形化<br>G：Goal，也就是你沟通表达的目的、目标和结论<br>A、B、C：解构得到的步骤，也就是因为A、B、C，所以才有了G<br>A1、B1、C1、……：更深层次的解构，同时强调了逻辑的顺序性</td>
<td></td>
</tr>
<tr>
<td>结论先行</td>
<td>向别人传递信息时，先给出结论的思维和行为方式。</td>
<td>1. 结论先行本质上是一种用户思维，为用户考虑。<br>2. 结论先行的思想可以用在文案标题中，标题点明内容的重点。<br>3. 结论先行可以为行动提供指南，结论先行的思维决定了以终为始的行动，即向着目标行动。</td>
<td><strong>用户思维</strong>：<br>case1：时间紧，短时间内需要传递重要信息<br>case2：信息多，例如向领导汇报时，信息量如果很大，先讲结论。<br>case3：ta需要，例如你讲解时有人提问原因原理，这时你就需要告诉他结论<br><strong>标题应用</strong>：<br><br>标题就是结论，标题要从内容中来，比如写年终总结报告时，标题不要写成《年终总结》，而要点明你的内容要点。<br><strong>提供行动指南</strong>：<br>例如企业领导者能看到发展的愿景，那么他还需要将这些愿景描绘传递给员工，让他们知道奋斗的方向和结果。</td>
</tr>
<tr>
<td>上下对应</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id="1-什么是结构性思维"><a href="#1-什么是结构性思维" class="headerlink" title="1. 什么是结构性思维"></a>1. 什么是结构性思维</h2><p><img src="/%E5%85%B6%E4%BB%96/%E7%BB%93%E6%9E%84%E6%80%A7%E6%80%9D%E7%BB%B4/8X6hPmjPTp.jpg" alt="8X6hPmjPTp"></p>
<p>透过现象看本质</p>
<h2 id="2-解构与建构"><a href="#2-解构与建构" class="headerlink" title="2. 解构与建构"></a>2. 解构与建构</h2><p>解构：从整体到部分</p>
<p>建构：从部分到整体</p>
<p>eg: 电影剧本的批量生产、汽车流水线、高考作文的套路</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">个人感想：</span><br><span class="line">	通过解构虽然提高了生产效率，但对于参与的个体来讲，发展是受限的，并且是大量同质的。</span><br></pre></td></tr></table></figure>

<h2 id><a href="#" class="headerlink" title></a></h2><h2 id="3-构思图"><a href="#3-构思图" class="headerlink" title="3. 构思图"></a>3. 构思图</h2><p><img src="/%E5%85%B6%E4%BB%96/%E7%BB%93%E6%9E%84%E6%80%A7%E6%80%9D%E7%BB%B4/image-20231021104612408.png" alt="image-20231021104612408"></p>
<p>G:goal , 沟通和表达的目的、目标和结论</p>
<p>构思图的原则：</p>
<ol>
<li><p>结论先行：先说结果，goal</p>
</li>
<li><p>上下对应：因果逻辑存在：因为ABC，所以goal</p>
</li>
<li><p>分类清楚：A  B  C</p>
</li>
<li><p>排序逻辑：A1  A2  A3</p>
</li>
</ol>
<p>构思图应用示例：</p>
<p><img src="/%E5%85%B6%E4%BB%96/%E7%BB%93%E6%9E%84%E6%80%A7%E6%80%9D%E7%BB%B4/image-20231021105741955.png" alt="image-20231021105741955"></p>
<h2 id="4-结论先行——用户思维应用"><a href="#4-结论先行——用户思维应用" class="headerlink" title="4. 结论先行——用户思维应用"></a>4. 结论先行——用户思维应用</h2><p>结论先行：说话先说结论，让对方快速地理解你想表达的意思。</p>
<p>应用场景：</p>
<pre><code> 1. 时间紧 ：例如战地记者
 2. 信息多 ：例如汇报
 3. ta需要 ：例如你说话时别人要问你结论
</code></pre>
<p>底层是用户思维</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">个人感想：</span><br><span class="line">	1. 能保证重要信息快速传达给对方</span><br><span class="line">	2. 避免信息漏传，如果长篇大论先扯，自己反而可能忘了要说的事。</span><br><span class="line">	3. 先说结论避免长篇大论给对面</span><br></pre></td></tr></table></figure>



<h2 id="5-结论先行——让标题会说话"><a href="#5-结论先行——让标题会说话" class="headerlink" title="5. 结论先行——让标题会说话"></a>5. 结论先行——让标题会说话</h2><p>重点：标题就是GOAL ，标题从内容中来</p>
<p>其他：一些起标题的方法，1. 左右对称：做什么：得什么，例如好好学习，天天向上；2. 制造悬念，加问句；</p>
<h2 id="6-结论先行——为行动确定指南"><a href="#6-结论先行——为行动确定指南" class="headerlink" title="6. 结论先行——为行动确定指南"></a>6. 结论先行——为行动确定指南</h2><p>重点：结论先行的思维决定了以终为始的行动</p>
<p>以终为始：明确目标，找到关键要务，然后再付诸实践。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">个人感想：</span><br><span class="line">	看起来不可能或难以完成的任务：解构</span><br><span class="line">	所以很少有什么事是不可完成的</span><br></pre></td></tr></table></figure>



<h2 id="7-上下对应——建立因果逻辑关系"><a href="#7-上下对应——建立因果逻辑关系" class="headerlink" title="7. 上下对应——建立因果逻辑关系"></a>7. 上下对应——建立因果逻辑关系</h2><p>上下对应：</p>
<p>讲理。</p>
<p>“知其然，并知其所以然”</p>
<p>完成了，并且要知道为什么完成了。</p>
<p>因果之间的强逻辑。</p>
<p>说服：</p>
<p>​	定义核心词</p>
<p>​	逐字审题法</p>
<p>项目方案：</p>
<p>​	1st. 当前问题</p>
<p>​	2nd. 解决方案</p>
<p>​	3rd. 具体案例</p>
<p>PPT写作：</p>
<p>​	有内容的主题句</p>
<h2 id="8-分类清楚"><a href="#8-分类清楚" class="headerlink" title="8. 分类清楚"></a>8. 分类清楚</h2><h3 id="什么是分类"><a href="#什么是分类" class="headerlink" title="什么是分类"></a>什么是分类</h3><p>分类：按照种类、等级或性质分别归类</p>
<p>分类的意义：</p>
<p>​	</p>
<p>​	分类便于记忆</p>
<p>​	分类便于计算</p>
<h3 id="分类的MECE原则"><a href="#分类的MECE原则" class="headerlink" title="分类的MECE原则"></a>分类的MECE原则</h3><p>分类标准：麦肯锡MECE原则</p>
<p>​	part1.相互独立       没有交集</p>
<p>​	part2.完全穷尽       全集</p>
<p>​	也就是不重不漏</p>
<p><img src="/%E5%85%B6%E4%BB%96/%E7%BB%93%E6%9E%84%E6%80%A7%E6%80%9D%E7%BB%B4/image-20231021143716527.png" alt="image-20231021143716527"></p>
<p>如何符合MECE原则：</p>
<p>​	part1.界定范围</p>
<p>​	part2.明确标准</p>
<p>做分类，图、表比文字好！</p>
<h3 id="思维的层次感"><a href="#思维的层次感" class="headerlink" title="思维的层次感"></a>思维的层次感</h3><p>应对复杂问题：分类讨论</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hackertaizi.gitee.io/Java/Java%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF/%E5%B8%B8%E7%94%A8Java%20API/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Taizi">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="太子的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 太子的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/Java/Java%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF/%E5%B8%B8%E7%94%A8Java%20API/" class="post-title-link" itemprop="url">常用的Java API</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-09-23 11:07:44" itemprop="dateCreated datePublished" datetime="2023-09-23T11:07:44+08:00">2023-09-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-09-27 18:44:54" itemprop="dateModified" datetime="2023-09-27T18:44:54+08:00">2023-09-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Java/Java%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">Java核心技术</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>4 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="常用Java-API"><a href="#常用Java-API" class="headerlink" title="常用Java API"></a>常用Java API</h1><h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">length()：返回字符串的长度。</span><br><span class="line"></span><br><span class="line">charAt(int index)：返回指定索引处的字符。</span><br><span class="line"></span><br><span class="line">substring(int beginIndex, int endIndex)：返回从beginIndex到endIndex-1的子字符串。</span><br><span class="line"></span><br><span class="line">indexOf(String str)：返回指定字符串在此字符串中第一次出现的索引。</span><br><span class="line"></span><br><span class="line">lastIndexOf(String str)：返回指定字符串在此字符串中最后一次出现的索引。</span><br><span class="line"></span><br><span class="line">startsWith(String prefix)：测试此字符串是否以指定的前缀开头。</span><br><span class="line"></span><br><span class="line">endsWith(String suffix)：测试此字符串是否以指定的后缀结尾。</span><br><span class="line"></span><br><span class="line">toUpperCase()：将此字符串转换为大写。</span><br><span class="line"></span><br><span class="line">toLowerCase()：将此字符串转换为小写。</span><br><span class="line"></span><br><span class="line">trim()：返回字符串的副本，忽略前导空白和尾部空白。</span><br><span class="line"></span><br><span class="line">replace(char oldChar, char newChar)：返回一个新字符串，其中所有出现的oldChar都被替换为newChar。</span><br><span class="line"></span><br><span class="line">split(String regex)：根据给定的正则表达式拆分此字符串。</span><br><span class="line"></span><br><span class="line">equals(Object anObject)：将此字符串与指定对象进行比较。</span><br><span class="line"></span><br><span class="line">compareTo(String anotherString)：按字典顺序比较两个字符串。</span><br><span class="line"></span><br><span class="line">valueOf()：将其他类型的数据转换为字符串。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="StringBuilder"><a href="#StringBuilder" class="headerlink" title="StringBuilder"></a>StringBuilder</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">append(String str)：将指定的字符串追加到此字符序列。</span><br><span class="line"></span><br><span class="line">insert(int offset, String str)：将指定的字符串插入此字符序列中。</span><br><span class="line"></span><br><span class="line">delete(int start, int end)：删除此字符序列中指定范围内的字符。</span><br><span class="line"></span><br><span class="line">replace(int start, int end, String str)：使用指定的字符串替换此字符序列中指定范围内的字符。</span><br><span class="line"></span><br><span class="line">reverse()：将此字符序列用其反转形式取代。</span><br><span class="line"></span><br><span class="line">length()：返回此字符序列的长度。</span><br><span class="line"></span><br><span class="line">capacity()：返回此字符序列的当前容量。</span><br><span class="line"></span><br><span class="line">charAt(int index)：返回此字符序列中指定索引处的 char 值。</span><br><span class="line"></span><br><span class="line">setCharAt(int index, char ch)：将此字符序列中指定索引处的字符设置为 ch。</span><br><span class="line"></span><br><span class="line">toString()：返回此字符序列的字符串表示形式。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Scanner"><a href="#Scanner" class="headerlink" title="Scanner"></a>Scanner</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">next()：读取下一个字符串，以空格作为分隔符。</span><br><span class="line">nextLine()：读取下一行字符串，以换行符作为分隔符。</span><br><span class="line">nextInt()：读取下一个整数。</span><br><span class="line">nextDouble()：读取下一个双精度浮点数。</span><br><span class="line">useDelimiter(String pattern)：设置分隔符模式。</span><br><span class="line">hasNext()：检查是否还有下一个输入项。</span><br><span class="line">hasNextInt()：检查下一个输入项是否为整数。</span><br><span class="line">hasNextDouble()：检查下一个输入项是否为双精度浮点数。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="System"><a href="#System" class="headerlink" title="System"></a>System</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">System.out.println()：将文本输出到控制台。</span><br><span class="line"></span><br><span class="line">System.err.println()：将错误消息输出到控制台。</span><br><span class="line"></span><br><span class="line">System.currentTimeMillis()：返回当前时间的毫秒数。</span><br><span class="line"></span><br><span class="line">System.exit(int status)：终止Java虚拟机。</span><br><span class="line"></span><br><span class="line">System.getProperty(String key)：获取系统属性。</span><br><span class="line"></span><br><span class="line">System.getenv(String name)：获取环境变量。</span><br><span class="line"></span><br><span class="line">System.arraycopy(Object src, int srcPos, Object dest, int destPos, int length)：将一个数组的一部分复制到另一个数组中。</span><br><span class="line"></span><br><span class="line">System.gc()：请求Java虚拟机进行垃圾回收。</span><br><span class="line"></span><br><span class="line">System.setOut(PrintStream out)：将标准输出流重定向到指定的PrintStream。</span><br><span class="line"></span><br><span class="line">System.setErr(PrintStream err)：将标准错误流重定向到指定的PrintStream。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Console"><a href="#Console" class="headerlink" title="Console"></a>Console</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">    System.console()：获取当前Java虚拟机的控制台对象，如果没有控制台，则返回null。</span><br><span class="line"></span><br><span class="line">    Console.readLine(String fmt, Object... args)：从控制台读取一行输入，可以使用格式化字符串指定提示信息。</span><br><span class="line"></span><br><span class="line">    Console.readPassword(String fmt, Object... args)：从控制台读取密码，输入的字符将被隐藏。</span><br><span class="line"></span><br><span class="line">    Console.writer()：获取控制台的输出流，可以使用它输出信息到控制台。</span><br><span class="line"></span><br><span class="line">    Console.format(String fmt, Object... args)：使用格式化字符串输出信息到控制台。</span><br><span class="line"></span><br><span class="line">    Console.printf(String fmt, Object... args)：使用格式化字符串输出信息到控制台，与format方法类似。</span><br><span class="line"></span><br><span class="line">需要注意的是，Java Console只能在命令行模式下使用，不能在图形界面下使用。另外，Java Console在某些操作系统上可能不可用，例如在Windows上使用Eclipse时，Java Console可能无法正常工作。</span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hackertaizi.gitee.io/%E5%85%B6%E4%BB%96/Cron%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E8%A1%A8%E8%BE%BE%E5%BC%8F/Cron%E8%A1%A8%E8%BE%BE%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Taizi">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="太子的个人博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 太子的个人博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/%E5%85%B6%E4%BB%96/Cron%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E8%A1%A8%E8%BE%BE%E5%BC%8F/Cron%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="post-title-link" itemprop="url">Cron表达式</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-09-16 13:48:25" itemprop="dateCreated datePublished" datetime="2023-09-16T13:48:25+08:00">2023-09-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-09-28 15:41:03" itemprop="dateModified" datetime="2023-09-28T15:41:03+08:00">2023-09-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%85%B6%E4%BB%96/" itemprop="url" rel="index"><span itemprop="name">其他</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.9k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>4 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Cron表达式"><a href="#Cron表达式" class="headerlink" title="Cron表达式"></a>Cron表达式</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>Cron表达式是一个具有时间含义的字符串，字符串以5<del>6个空格隔开，分为6</del>7个域，格式为<code>X X X X X X X</code>。其中<code>X</code>是一个域的占位符。最后一个代表年份的域非必须，可省略。单个域有多个取值时，使用半角逗号<code>,</code>隔开取值。每个域可以是确定的取值，也可以是具有逻辑意义的特殊字符。每个域最多支持一个前导零。</p>
<h2 id="语法格式"><a href="#语法格式" class="headerlink" title="语法格式"></a>语法格式</h2><ul>
<li><p>当为7个域时：</p>
<p><code>Seconds Minutes Hours DayofMonth Month DayofWeek Year</code></p>
</li>
<li><p>当为6个域时：</p>
<p><code>Seconds Minutes Hours DayofMonth Month DayofWeek</code></p>
</li>
</ul>
<h2 id="域取值"><a href="#域取值" class="headerlink" title="域取值"></a>域取值</h2><p>下表为Cron表达式中六个域能够取的值以及支持的特殊字符。</p>
<table>
<thead>
<tr>
<th>域</th>
<th>是否必需</th>
<th>取值范围</th>
<th>特殊字符</th>
</tr>
</thead>
<tbody><tr>
<td>秒</td>
<td>是</td>
<td>[0, 59]</td>
<td>* , - &#x2F;</td>
</tr>
<tr>
<td>分钟</td>
<td>是</td>
<td>[0, 59]</td>
<td>* , - &#x2F;</td>
</tr>
<tr>
<td>小时</td>
<td>是</td>
<td>[0, 23]</td>
<td>* , - &#x2F;</td>
</tr>
<tr>
<td>日期</td>
<td>是</td>
<td>[1, 31]</td>
<td>* , - &#x2F; ? L W</td>
</tr>
<tr>
<td>月份</td>
<td>是</td>
<td>[1, 12]或[JAN, DEC]</td>
<td>* , - &#x2F;</td>
</tr>
<tr>
<td>星期</td>
<td>是</td>
<td>[1, 7]或[MON, SUN]。若您使用[1, 7]表达方式，<code>1</code>代表星期一，<code>7</code>代表星期日。</td>
<td>* , - &#x2F; ? L #</td>
</tr>
<tr>
<td>年</td>
<td>否</td>
<td>[当前年份，2099]</td>
<td>* , - &#x2F;</td>
</tr>
</tbody></table>
<h2 id="特殊字符"><a href="#特殊字符" class="headerlink" title="特殊字符"></a>特殊字符</h2><p>Cron表达式中的每个域都支持一定数量的特殊字符，每个特殊字符有其特殊含义。</p>
<table>
<thead>
<tr>
<th>特殊字符</th>
<th>含义</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>*</code></td>
<td>所有可能的值。</td>
<td>在月域中，<code>*</code>表示每个月；在星期域中，<code>*</code>表示星期的每一天。</td>
</tr>
<tr>
<td><code>,</code></td>
<td>列出枚举值。</td>
<td>在分钟域中，<code>5,20</code>表示分别在5分钟和20分钟触发一次。</td>
</tr>
<tr>
<td><code>-</code></td>
<td>范围。</td>
<td>在分钟域中，<code>5-20</code>表示从5分钟到20分钟之间每隔一分钟触发一次。</td>
</tr>
<tr>
<td><code>/</code></td>
<td>指定数值的增量。</td>
<td>在分钟域中，<code>0/15</code>表示从第0分钟开始，每15分钟。在分钟域中<code>3/20</code>表示从第3分钟开始，每20分钟。</td>
</tr>
<tr>
<td><code>?</code></td>
<td>不指定值，仅日期和星期域支持该字符。</td>
<td>当日期或星期域其中之一被指定了值以后，为了避免冲突，需要将另一个域的值设为<code>?</code>。</td>
</tr>
<tr>
<td><code>L</code></td>
<td>单词Last的首字母，表示最后一天，仅日期和星期域支持该字符。                                                                                                 <strong>说明</strong> 指定<code>L</code>字符时，避免指定列表或者范围，否则，会导致逻辑问题。</td>
<td>在日期域中，<code>L</code>表示某个月的最后一天。在星期域中，<code>L</code>表示一个星期的最后一天，也就是星期日（<code>SUN</code>）。                                                                  如果在<code>L</code>前有具体的内容，例如，在星期域中的<code>6L</code>表示这个月的最后一个星期六。</td>
</tr>
<tr>
<td><code>W</code></td>
<td>除周末以外的有效工作日，在离指定日期的最近的有效工作日触发事件。<code>W</code>字符寻找最近有效工作日时不会跨过当前月份，连用字符<code>LW</code>时表示为指定月份的最后一个工作日。</td>
<td>在日期域中<code>5W</code>，如果5日是星期六，则将在最近的工作日星期五，即4日触发。如果5日是星期天，则将在最近的工作日星期一，即6日触发；如果5日在星期一到星期五中的一天，则就在5日触发。</td>
</tr>
<tr>
<td><code>#</code></td>
<td>确定每个月第几个星期几，仅星期域支持该字符。</td>
<td>在星期域中，<code>4#2</code>表示某月的第二个星期四。</td>
</tr>
</tbody></table>
<h2 id="取值示例"><a href="#取值示例" class="headerlink" title="取值示例"></a>取值示例</h2><p>以下为Cron表达式的取值示例。</p>
<table>
<thead>
<tr>
<th>示例</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>0 15 10 ? * *</code></td>
<td>每天上午10:15执行任务</td>
</tr>
<tr>
<td><code>0 15 10 * * ?</code></td>
<td>每天上午10:15执行任务</td>
</tr>
<tr>
<td><code>0 0 12 * * ?</code></td>
<td>每天中午12:00执行任务</td>
</tr>
<tr>
<td><code>0 0 10,14,16 * * ?</code></td>
<td>每天上午10:00点、下午14:00以及下午16:00执行任务</td>
</tr>
<tr>
<td><code>0 0/30 9-17 * * ?</code></td>
<td>每天上午09:00到下午17:00时间段内每隔半小时执行任务</td>
</tr>
<tr>
<td><code>0 * 14 * * ?</code></td>
<td>每天下午14:00到下午14:59时间段内每隔1分钟执行任务</td>
</tr>
<tr>
<td><code>0 0-5 14 * * ?</code></td>
<td>每天下午14:00到下午14:05时间段内每隔1分钟执行任务</td>
</tr>
<tr>
<td><code>0 0/5 14 * * ?</code></td>
<td>每天下午14:00到下午14:55时间段内每隔5分钟执行任务</td>
</tr>
<tr>
<td><code>0 0/5 14,18 * * ?</code></td>
<td>每天下午14:00到下午14:55、下午18:00到下午18:55时间段内每隔5分钟执行任务</td>
</tr>
<tr>
<td><code>0 0 12 ? * WED</code></td>
<td>每个星期三中午12:00执行任务</td>
</tr>
<tr>
<td><code>0 15 10 15 * ?</code></td>
<td>每月15日上午10:15执行任务</td>
</tr>
<tr>
<td><code>0 15 10 L * ?</code></td>
<td>每月最后一日上午10:15执行任务</td>
</tr>
<tr>
<td><code>0 15 10 ? * 6L</code></td>
<td>每月最后一个星期六上午10:15执行任务</td>
</tr>
<tr>
<td><code>0 15 10 ? * 6#3</code></td>
<td>每月第三个星期六上午10:15执行任务</td>
</tr>
<tr>
<td><code>0 10,44 14 ? 3 WED</code></td>
<td>每年3月的每个星期三下午14:10和14:44执行任务</td>
</tr>
<tr>
<td><code>0 15 10 ? * * 2022</code></td>
<td>2022年每天上午10:15执行任务</td>
</tr>
<tr>
<td><code>0 15 10 ? * * *</code></td>
<td>每年每天上午10:15执行任务</td>
</tr>
<tr>
<td><code>0 0/5 14,18 * * ? 2022</code></td>
<td>2022年每天下午14:00到下午14:55、下午18:00到下午18:55时间段内每隔5分钟执行任务</td>
</tr>
<tr>
<td><code>0 15 10 ? * 6#3 2022,2023</code></td>
<td>2022年至2023年每月第三个星期六上午10:15执行任务</td>
</tr>
<tr>
<td><code>0 0/30 9-17 * * ? 2022-2025</code></td>
<td>2022年至2025年每天上午09:00到下午17:30时间段内每隔半小时执行任务</td>
</tr>
<tr>
<td><code>0 10,44 14 ? 3 WED 2022/2</code></td>
<td>从2022年开始，每隔两年3月的每个星期三下午14:10和14:44执行任务</td>
</tr>
</tbody></table>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Powered by Hackertaizi</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">180k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">5:27</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>







  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
